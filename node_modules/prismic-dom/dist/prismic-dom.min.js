!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("PrismicDOM",[],e):"object"==typeof exports?exports.PrismicDOM=e():t.PrismicDOM=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=6)}([function(t,e,n){"use strict";e.__esModule=!0,e.default={url:function(t,e){return"Document"===t.link_type?e?e(t,t.isBroken):"":t.url}}},function(t,e,n){"use strict";e.__esModule=!0;var i,r=n(0);!function(t){t[t.heading1=0]="heading1",t[t.heading2=1]="heading2",t[t.heading3=2]="heading3",t[t.heading4=3]="heading4",t[t.heading5=4]="heading5",t[t.heading6=5]="heading6",t[t.paragraph=6]="paragraph",t[t.preformatted=7]="preformatted",t[t.strong=8]="strong",t[t.em=9]="em",t[t["list-item"]=10]="list-item",t[t["o-list-item"]=11]="o-list-item",t[t["group-list-item"]=12]="group-list-item",t[t["group-o-list-item"]=13]="group-o-list-item",t[t.image=14]="image",t[t.embed=15]="embed",t[t.hyperlink=16]="hyperlink",t[t.label=17]="label"}(i=e.ElementKind||(e.ElementKind={}));var a=function(){function t(t,e,n){switch(this.value=t,this.level=e,this.content=n,e){case 1:this.kind=i.heading1;break;case 2:this.kind=i.heading2;break;case 3:this.kind=i.heading3;break;case 4:this.kind=i.heading4;break;case 5:this.kind=i.heading5;break;case 6:this.kind=i.heading6;break;default:throw Error("Invalid heading level "+e)}}return t.prototype.serialize=function(t){var e=[this.value.label||""];return t&&t(this.value,this.content)||"<h"+this.level+' class="'+e.join(" ")+'">'+this.content+"</h"+this.level+">"},t}();e.Heading=a;var s=function(){function t(t,e,n){this.value=t,this.organized=e,this.content=n}return t.prototype.serialize=function(t){var e=[this.value.label||""];return t&&t(this.value,this.content)||'<li class="'+e.join(" ")+'">'+this.content+"</li>"},t}();e.ListItem=s;var u=function(){function t(t,e){this.organized=e,this.value=t}return t.prototype.serialize=function(t){var e=this.value.map(function(e){return t&&t(e.value,e.content)||e.serialize(t)}).join("");return this.organized?"<ol>"+e+"</ol>":"<ul>"+e+"</ul>"},t}();e.List=u;var o=function(){function t(t,e){this.kind=i.paragraph,this.value=t,this.content=e}return t.prototype.serialize=function(t){var e=[this.value.label||""];return t&&t(this.value,this.content)||'<p class="'+e.join(" ")+'">'+this.content+"</p>"},t}();e.Paragraph=o;var l=function(){function t(t,e){this.kind=i.preformatted,this.value=t,this.content=e}return t.prototype.serialize=function(t){var e=[this.value.label||""];return t&&t(this.value,this.content)||'<pre class="'+e.join(" ")+'">'+this.content+"</pre>"},t}();e.Preformatted=l;var c=function(){function t(t,e){this.kind=i.strong,this.value=t,this.content=e}return t.prototype.serialize=function(t){var e=[this.value.label||""];return t&&t(this.value,this.content)||'<strong class="'+e.join(" ")+'">'+this.content+"</strong>"},t}();e.Strong=c;var h=function(){function t(t,e){this.kind=i.em,this.value=t,this.content=e}return t.prototype.serialize=function(t){var e=[this.value.label||""];return t&&t(this.value,this.content)||'<em class="'+e.join(" ")+'">'+this.content+"</em>"},t}();e.Emphasized=h;var d=function(){function t(t,e,n){this.kind=i.image,this.value=t,this.url=this.value.url,this.content=e,this.linkUrl=t.linkTo?r.default.url(t.linkTo,n):null}return t.prototype.serialize=function(t){var e=[this.value.label||"","block-img"],n='<img src="'+this.value.url+'" alt="'+(this.value.alt||"")+'" copyright="'+(this.value.copyright||"")+'">';return t&&t(this.value,this.content)||"\n        <p class="+e.join(" ")+">\n          "+(this.linkUrl?'<a href="'+this.linkUrl+'">'+n+"</a>":n)+"\n        </p>\n      "},t}();e.Image=d;var f=function(){function t(t,e){this.kind=i.embed,this.value=t,this.content=e}return t.prototype.serialize=function(t){var e=[this.value.label||""];return t&&t(this.value,this.content)||'<div data-oembed="'+this.value.embed_url+'"\n          data-oembed-type="'+this.value.type+'"\n          data-oembed-provider="'+this.value.provider_name+'\n          class="'+e.join(" ")+'">\n          \n          '+this.value.oembed.html+"\n        </div>\n      "},t}();e.Embed=f;var p=function(){function t(t,e,n){this.kind=i.hyperlink,this.value=t,this.content=e,this.url=r.default.url(t,n)}return t.prototype.serialize=function(t){return t&&t(this.value,this.content)||'<a href="'+this.url+'">'+this.content+"</a>"},t}();e.Link=p;var v=function(){function t(t,e){this.kind=i.label,this.value=t,this.content=e}return t.prototype.serialize=function(t){return t&&t(this.value,this.content)||'<span class="'+this.value.data.label+'">'+this.content+"</span>"},t}();e.Label=v,e.Element={apply:function(t,e,n){switch(t.type){case"heading1":return new a(t,1,e);case"heading2":return new a(t,2,e);case"heading3":return new a(t,3,e);case"heading4":return new a(t,4,e);case"heading5":return new a(t,5,e);case"heading6":return new a(t,6,e);case"paragraph":return new o(t,e);case"preformatted":return new l(t,e);case"strong":return new c(t,e);case"em":return new h(t,e);case"list-item":return new s(t,!1,e);case"o-list-item":return new s(t,!0,e);case"image":return new d(t,e,n);case"embed":return new f(t,e);case"hyperlink":return new p(t,e,n);case"label":return new v(t,e);default:throw new Error("Invalid element type on element : "+JSON.stringify(t))}}}},function(t,e,n){"use strict";e.__esModule=!0;var i=n(3),r=n(4),a=n(0);t.exports={Date:i.default,RichText:r.default,Link:a.default}},function(t,e,n){"use strict";function i(t){if(!t)return null;var e=24==t.length?t.substring(0,22)+":"+t.substring(22,24):t;return new Date(e)}e.__esModule=!0,e.default=i},function(t,e,n){"use strict";e.__esModule=!0;var i=n(1),r=n(5);e.default={asText:function(t){return t.reduce(function(t,e){return t+" "+e.text},"")},asHtml:function(t,e,n){return t.reduce(function(t,a){var s=r.insertSpans(a.text,a.spans,e,n),u=i.Element.apply(a,s,e),o=t.length>0?t[t.length-1]:null;if(o instanceof i.List&&u instanceof i.ListItem&&o.organized===u.organized){var l=new i.List(o.value.concat(u),u.organized);return t.slice(0,t.length-1).concat([l])}return u instanceof i.ListItem?t.concat([new i.List([u],u.organized)]):t.concat([u])},[]).map(function(t){return t.serialize(n)}).join("")}}},function(t,e,n){"use strict";function i(t){return t&&t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>")}function r(t,e,n,r){if(!e||!e.length)return i(t);var u={},o={};e.forEach(function(t){u[t.start]||(u[t.start]=[]),o[t.end]||(o[t.end]=[]),u[t.start].push(t),o[t.end].unshift(t)});for(var l,c="",h=[],d=0,f=t.length+1;d<f;d++)o[d]&&o[d].forEach(function(){var t=h.pop();if(void 0!==t){var e=a.Element.apply(t.span,t.text,n),i=e.serialize(r);0===h.length?c+=i:h[h.length-1].text+=i}}),u[d]&&(u[d].sort(function(t,e){return e.end-e.start-(t.end-t.start)}),u[d].forEach(function(t){"hyperlink"==t.type&&(t.url=s.default.url(t.data,n));var e={span:t,text:""};h.push(e)})),d<t.length&&(l=t[d],0===h.length?c+=i(l):h[h.length-1].text+=i(l));return c}e.__esModule=!0;var a=n(1),s=n(0);e.TagType||(e.TagType={}),e.insertSpans=r},function(t,e,n){t.exports=n(2)}])});