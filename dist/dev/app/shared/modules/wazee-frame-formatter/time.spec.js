"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var time_1 = require("./time");
function main() {
    describe('Time', function () {
        var timeUnderTest;
        beforeEach(function () {
            timeUnderTest = new time_1.Time(23.976);
        });
        it('stores frames', function () {
            timeUnderTest.frames = 1;
            expect(timeUnderTest.frames).toBe(1);
        });
        it('stores seconds', function () {
            timeUnderTest.seconds = 2;
            expect(timeUnderTest.seconds).toBe(2);
        });
        it('stores minutes', function () {
            timeUnderTest.minutes = 3;
            expect(timeUnderTest.minutes).toBe(3);
        });
        it('stores hours', function () {
            timeUnderTest.hours = 4;
            expect(timeUnderTest.hours).toBe(4);
        });
        it('rolls frames to seconds when it should', function () {
            timeUnderTest.frames = 24;
            expect(timeUnderTest.seconds).toBe(1);
            expect(timeUnderTest.frames).toBe(0);
        });
        it('rolls seconds to minutes when it should', function () {
            timeUnderTest.seconds = 62;
            expect(timeUnderTest.minutes).toBe(1);
            expect(timeUnderTest.seconds).toBe(2);
        });
        it('rolls minutes to hours when it should', function () {
            timeUnderTest.minutes = 127;
            expect(timeUnderTest.hours).toBe(2);
            expect(timeUnderTest.minutes).toBe(7);
        });
        describe('clear()', function () {
            it('works', function () {
                timeUnderTest.hours = 1;
                timeUnderTest.minutes = 2;
                timeUnderTest.seconds = 3;
                timeUnderTest.frames = 4;
                timeUnderTest.clear();
                expect(timeUnderTest.hours).toBe(0);
                expect(timeUnderTest.minutes).toBe(0);
                expect(timeUnderTest.seconds).toBe(0);
                expect(timeUnderTest.frames).toBe(0);
            });
        });
        describe('addFrames()', function () {
            it('adds frames', function () {
                timeUnderTest.frames = 4;
                timeUnderTest.addFrames(7);
                expect(timeUnderTest.frames).toBe(11);
            });
        });
        describe('hoursMultipleOf()', function () {
            it('works for a multiple', function () {
                timeUnderTest.hours = 14;
                expect(timeUnderTest.hoursMultipleOf(7)).toBe(true);
            });
            it('works for a non-multiple', function () {
                timeUnderTest.hours = 13;
                expect(timeUnderTest.hoursMultipleOf(7)).toBe(false);
            });
        });
        describe('minutesMultipleOf()', function () {
            it('works for a multiple', function () {
                timeUnderTest.minutes = 42;
                expect(timeUnderTest.minutesMultipleOf(7)).toBe(true);
            });
            it('works for a non-multiple', function () {
                timeUnderTest.minutes = 47;
                expect(timeUnderTest.minutesMultipleOf(7)).toBe(false);
            });
        });
        describe('minutesOneOf()', function () {
            it('works for an included minute', function () {
                timeUnderTest.minutes = 47;
                expect(timeUnderTest.minutesOneOf(1, 9, 34, 47, 55)).toBe(true);
            });
            it('works for an excluded minute', function () {
                timeUnderTest.minutes = 47;
                expect(timeUnderTest.minutesOneOf(1, 9, 34, 42, 55)).toBe(false);
            });
        });
        describe('asFrameNumber()', function () {
            it('works', function () {
                timeUnderTest.hours = 1;
                timeUnderTest.minutes = 2;
                timeUnderTest.seconds = 3;
                timeUnderTest.frames = 4;
                expect(timeUnderTest.asFrameNumber()).toBe((1 * 60 * 60 + 2 * 60 + 3) * 24 + 4);
            });
        });
        describe('totalWholeSeconds()', function () {
            it('works', function () {
                timeUnderTest.hours = 1;
                timeUnderTest.minutes = 2;
                timeUnderTest.seconds = 3;
                timeUnderTest.frames = 4;
                expect(timeUnderTest.totalWholeSeconds()).toBe(1 * 60 * 60 + 2 * 60 + 3);
            });
        });
    });
}
exports.main = main;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9zaGFyZWQvbW9kdWxlcy93YXplZS1mcmFtZS1mb3JtYXR0ZXIvdGltZS5zcGVjLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsK0JBQThCO0FBRTlCO0lBQ0UsUUFBUSxDQUFDLE1BQU0sRUFBRTtRQUNmLElBQUksYUFBbUIsQ0FBQztRQUV4QixVQUFVLENBQUM7WUFDVCxhQUFhLEdBQUcsSUFBSSxXQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDbkMsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsZUFBZSxFQUFFO1lBQ2xCLGFBQWEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1lBRXpCLE1BQU0sQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3ZDLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLGdCQUFnQixFQUFFO1lBQ25CLGFBQWEsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDO1lBRTFCLE1BQU0sQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3hDLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLGdCQUFnQixFQUFFO1lBQ25CLGFBQWEsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDO1lBRTFCLE1BQU0sQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3hDLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLGNBQWMsRUFBRTtZQUNqQixhQUFhLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztZQUV4QixNQUFNLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0QyxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyx3Q0FBd0MsRUFBRTtZQUMzQyxhQUFhLENBQUMsTUFBTSxHQUFH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QUFhLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQztnQkFDMUIsYUFBYSxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUM7Z0JBQzFCLGFBQWEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO2dCQUV6QixNQUFNLENBQUMsYUFBYSxDQUFDLGFBQWEsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDbEYsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztRQUVILFFBQVEsQ0FBQyxxQkFBcUIsRUFBRTtZQUM5QixFQUFFLENBQUMsT0FBTyxFQUFFO2dCQUNWLGFBQWEsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO2dCQUN4QixhQUFhLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQztnQkFDMUIsYUFBYSxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUM7Z0JBQzFCLGFBQWEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO2dCQUV6QixNQUFNLENBQUMsYUFBYSxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUMzRSxDQUFDLENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDO0FBN0lELG9CQTZJQyIsImZpbGUiOiJhcHAvc2hhcmVkL21vZHVsZXMvd2F6ZWUtZnJhbWUtZm9ybWF0dGVyL3RpbWUuc3BlYy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFRpbWUgfSBmcm9tICcuL3RpbWUnO1xuXG5leHBvcnQgZnVuY3Rpb24gbWFpbigpIHtcbiAgZGVzY3JpYmUoJ1RpbWUnLCAoKSA9PiB7XG4gICAgbGV0IHRpbWVVbmRlclRlc3Q6IFRpbWU7XG5cbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgIHRpbWVVbmRlclRlc3QgPSBuZXcgVGltZSgyMy45NzYpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3N0b3JlcyBmcmFtZXMnLCAoKSA9PiB7XG4gICAgICB0aW1lVW5kZXJUZXN0LmZyYW1lcyA9IDE7XG5cbiAgICAgIGV4cGVjdCh0aW1lVW5kZXJUZXN0LmZyYW1lcykudG9CZSgxKTtcbiAgICB9KTtcblxuICAgIGl0KCdzdG9yZXMgc2Vjb25kcycsICgpID0+IHtcbiAgICAgIHRpbWVVbmRlclRlc3Quc2Vjb25kcyA9IDI7XG5cbiAgICAgIGV4cGVjdCh0aW1lVW5kZXJUZXN0LnNlY29uZHMpLnRvQmUoMik7XG4gICAgfSk7XG5cbiAgICBpdCgnc3RvcmVzIG1pbnV0ZXMnLCAoKSA9PiB7XG4gICAgICB0aW1lVW5kZXJUZXN0Lm1pbnV0ZXMgPSAzO1xuXG4gICAgICBleHBlY3QodGltZVVuZGVyVGVzdC5taW51dGVzKS50b0JlKDMpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3N0b3JlcyBob3VycycsICgpID0+IHtcbiAgICAgIHRpbWVVbmRlclRlc3QuaG91cnMgPSA0O1xuXG4gICAgICBleHBlY3QodGltZVVuZGVyVGVzdC5ob3VycykudG9CZSg0KTtcbiAgICB9KTtcblxuICAgIGl0KCdyb2xscyBmcmFtZXMgdG8gc2Vjb25kcyB3aGVuIGl0IHNob3VsZCcsICgpID0+IHtcbiAgICAgIHRpbWVVbmRlclRlc3QuZnJhbWVzID0gMjQ7XG5cbiAgICAgIGV4cGVjdCh0aW1lVW5kZXJUZXN0LnNlY29uZHMpLnRvQmUoMSk7XG4gICAgICBleHBlY3QodGltZVVuZGVyVGVzdC5mcmFtZXMpLnRvQmUoMCk7XG4gICAgfSk7XG5cbiAgICBpdCgncm9sbHMgc2Vjb25kcyB0byBtaW51dGVzIHdoZW4gaXQgc2hvdWxkJywgKCkgPT4ge1xuICAgICAgdGltZVVuZGVyVGVzdC5zZWNvbmRzID0gNjI7XG5cbiAgICAgIGV4cGVjdCh0aW1lVW5kZXJUZXN0Lm1pbnV0ZXMpLnRvQmUoMSk7XG4gICAgICBleHBlY3QodGltZVVuZGVyVGVzdC5zZWNvbmRzKS50b0JlKDIpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3JvbGxzIG1pbnV0ZXMgdG8gaG91cnMgd2hlbiBpdCBzaG91bGQnLCAoKSA9PiB7XG4gICAgICB0aW1lVW5kZXJUZXN0Lm1pbnV0ZXMgPSAxMjc7XG5cbiAgICAgIGV4cGVjdCh0aW1lVW5kZXJUZXN0LmhvdXJzKS50b0JlKDIpO1xuICAgICAgZXhwZWN0KHRpbWVVbmRlclRlc3QubWludXRlcykudG9CZSg3KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCdjbGVhcigpJywgKCkgPT4ge1xuICAgICAgaXQoJ3dvcmtzJywgKCkgPT4ge1xuICAgICAgICB0aW1lVW5kZXJUZXN0LmhvdXJzID0gMTtcbiAgICAgICAgdGltZVVuZGVyVGVzdC5taW51dGVzID0gMjtcbiAgICAgICAgdGltZVVuZGVyVGVzdC5zZWNvbmRzID0gMztcbiAgICAgICAgdGltZVVuZGVyVGVzdC5mcmFtZXMgPSA0O1xuXG4gICAgICAgIHRpbWVVbmRlclRlc3QuY2xlYXIoKTtcbiAgICAgICAgZXhwZWN0KHRpbWVVbmRlclRlc3QuaG91cnMpLnRvQmUoMCk7XG4gICAgICAgIGV4cGVjdCh0aW1lVW5kZXJUZXN0Lm1pbnV0ZXMpLnRvQmUoMCk7XG4gICAgICAgIGV4cGVjdCh0aW1lVW5kZXJUZXN0LnNlY29uZHMpLnRvQmUoMCk7XG4gICAgICAgIGV4cGVjdCh0aW1lVW5kZXJUZXN0LmZyYW1lcykudG9CZSgwKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ2FkZEZyYW1lcygpJywgKCkgPT4ge1xuICAgICAgaXQoJ2FkZHMgZnJhbWVzJywgKCkgPT4ge1xuICAgICAgICB0aW1lVW5kZXJUZXN0LmZyYW1lcyA9IDQ7XG4gICAgICAgIHRpbWVVbmRlclRlc3QuYWRkRnJhbWVzKDcpO1xuXG4gICAgICAgIGV4cGVjdCh0aW1lVW5kZXJUZXN0LmZyYW1lcykudG9CZSgxMSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCdob3Vyc011bHRpcGxlT2YoKScsICgpID0+IHtcbiAgICAgIGl0KCd3b3JrcyBmb3IgYSBtdWx0aXBsZScsICgpID0+IHtcbiAgICAgICAgdGltZVVuZGVyVGVzdC5ob3VycyA9IDE0O1xuXG4gICAgICAgIGV4cGVjdCh0aW1lVW5kZXJUZXN0LmhvdXJzTXVsdGlwbGVPZig3KSkudG9CZSh0cnVlKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnd29ya3MgZm9yIGEgbm9uLW11bHRpcGxlJywgKCkgPT4ge1xuICAgICAgICB0aW1lVW5kZXJUZXN0LmhvdXJzID0gMTM7XG5cbiAgICAgICAgZXhwZWN0KHRpbWVVbmRlclRlc3QuaG91cnNNdWx0aXBsZU9mKDcpKS50b0JlKGZhbHNlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ21pbnV0ZXNNdWx0aXBsZU9mKCknLCAoKSA9PiB7XG4gICAgICBpdCgnd29ya3MgZm9yIGEgbXVsdGlwbGUnLCAoKSA9PiB7XG4gICAgICAgIHRpbWVVbmRlclRlc3QubWludXRlcyA9IDQyO1xuXG4gICAgICAgIGV4cGVjdCh0aW1lVW5kZXJUZXN0Lm1pbnV0ZXNNdWx0aXBsZU9mKDcpKS50b0JlKHRydWUpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCd3b3JrcyBmb3IgYSBub24tbXVsdGlwbGUnLCAoKSA9PiB7XG4gICAgICAgIHRpbWVVbmRlclRlc3QubWludXRlcyA9IDQ3O1xuXG4gICAgICAgIGV4cGVjdCh0aW1lVW5kZXJUZXN0Lm1pbnV0ZXNNdWx0aXBsZU9mKDcpKS50b0JlKGZhbHNlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ21pbnV0ZXNPbmVPZigpJywgKCkgPT4ge1xuICAgICAgaXQoJ3dvcmtzIGZvciBhbiBpbmNsdWRlZCBtaW51dGUnLCAoKSA9PiB7XG4gICAgICAgIHRpbWVVbmRlclRlc3QubWludXRlcyA9IDQ3O1xuXG4gICAgICAgIGV4cGVjdCh0aW1lVW5kZXJUZXN0Lm1pbnV0ZXNPbmVPZigxLCA5LCAzNCwgNDcsIDU1KSkudG9CZSh0cnVlKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnd29ya3MgZm9yIGFuIGV4Y2x1ZGVkIG1pbnV0ZScsICgpID0+IHtcbiAgICAgICAgdGltZVVuZGVyVGVzdC5taW51dGVzID0gNDc7XG5cbiAgICAgICAgZXhwZWN0KHRpbWVVbmRlclRlc3QubWludXRlc09uZU9mKDEsIDksIDM0LCA0MiwgNTUpKS50b0JlKGZhbHNlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ2FzRnJhbWVOdW1iZXIoKScsICgpID0+IHtcbiAgICAgIGl0KCd3b3JrcycsICgpID0+IHtcbiAgICAgICAgdGltZVVuZGVyVGVzdC5ob3VycyA9IDE7XG4gICAgICAgIHRpbWVVbmRlclRlc3QubWludXRlcyA9IDI7XG4gICAgICAgIHRpbWVVbmRlclRlc3Quc2Vjb25kcyA9IDM7XG4gICAgICAgIHRpbWVVbmRlclRlc3QuZnJhbWVzID0gNDtcblxuICAgICAgICBleHBlY3QodGltZVVuZGVyVGVzdC5hc0ZyYW1lTnVtYmVyKCkpLnRvQmUoKDEgKiA2MCAqIDYwICsgMiAqIDYwICsgMykgKiAyNCArIDQpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgndG90YWxXaG9sZVNlY29uZHMoKScsICgpID0+IHtcbiAgICAgIGl0KCd3b3JrcycsICgpID0+IHtcbiAgICAgICAgdGltZVVuZGVyVGVzdC5ob3VycyA9IDE7XG4gICAgICAgIHRpbWVVbmRlclRlc3QubWludXRlcyA9IDI7XG4gICAgICAgIHRpbWVVbmRlclRlc3Quc2Vjb25kcyA9IDM7XG4gICAgICAgIHRpbWVVbmRlclRlc3QuZnJhbWVzID0gNDtcblxuICAgICAgICBleHBlY3QodGltZVVuZGVyVGVzdC50b3RhbFdob2xlU2Vjb25kcygpKS50b0JlKDEgKiA2MCAqIDYwICsgMiAqIDYwICsgMyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59XG4iXX0=
