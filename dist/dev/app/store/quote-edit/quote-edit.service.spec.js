"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var common_functions_1 = require("../../shared/utilities/common.functions");
var quote_edit_service_1 = require("./quote-edit.service");
var mock_api_service_1 = require("../spec-helpers/mock-api.service");
var api_interface_1 = require("../../shared/interfaces/api.interface");
var index_1 = require("../../shared/modules/wazee-frame-formatter/index");
function main() {
    describe('Future Quote Edit Service', function () {
        var serviceUnderTest, mockApiService;
        beforeEach(function () {
            jasmine.addMatchers(mock_api_service_1.mockApiMatchers);
            mockApiService = new mock_api_service_1.MockApiService();
            serviceUnderTest = new quote_edit_service_1.FutureQuoteEditService(mockApiService.injector);
        });
        describe('load()', function () {
            it('calls the api service correctly', function () {
                serviceUnderTest.load();
                expect(mockApiService.get).toHaveBeenCalledWithApi(api_interface_1.Api.Orders);
                expect(mockApiService.get).toHaveBeenCalledWithEndpoint('quote/focused');
                expect(mockApiService.get).toHaveBeenCalledWithLoading(true);
            });
            it('returns an observable', function () {
                mockApiService.getResponse = { some: 'quote' };
                serviceUnderTest.load().subscribe(function (q) { return expect(q).toEqual({ some: 'quote' }); });
            });
        });
        describe('delete()', function () {
            it('calls the api service correctly', function () {
                serviceUnderTest.delete(1);
                expect(mockApiService.delete).toHaveBeenCalledWithApi(api_interface_1.Api.Orders);
                expect(mockApiService.delete).toHaveBeenCalledWithEndpoint('quote/1');
                expect(mockApiService.delete).toHaveBeenCalledWithLoading('onBeforeRequest');
            });
            it('switchMaps to a .load()', function () {
                var response;
                serviceUnderTest.delete(1).subscribe(function (res) { return response = res; });
                expect(mockApiService.get).toHaveBeenCalledWithApi(api_interface_1.Api.Orders);
                expect(mockApiService.get).toHaveBeenCalledWithEndpoint('quote/focused');
                expect(mockApiService.get).toHaveBeenCalledWithLoading(true);
                expect(response).toEqual(mockApiService.getResponse);
            });
        });
        describe('editLineItemFromDetails()', function () {
            describe('calls the api service correctly', function () {
                it('when called with markers and attributes', function () {
                    serviceUnderTest.editLineItemFromDetails(7, { id: 3, asset: { some: 'asset' } }, { in: new index_1.Frame(30).setFromFrameNumber(30), out: new index_1.Frame(30).setFromFrameNumber(60) }, [{ selectedAttributeName: 'some', selectedAttributeValue: 'attribute' }]);
                    expect(mockApiService.put).toHaveBeenCalledWithApi(api_interface_1.Api.Orders);
                    expect(mockApiService.put).toHaveBeenCalledWithEndpoint('quote/7/update/lineItem/3');
                    expect(mockApiService.put).toHaveBeenCalledWithLoading(true);
                    expect(mockApiService.put).toHaveBeenCalledWithBody({
                        id: 3,
                        asset: { some: 'asset', timeStart: 1000, timeEnd: 2000 },
                        attributes: [
                            { selectedAttributeName: 'some', selectedAttributeValue: 'attribute' }
                        ]
                    });
                    expect(mockApiService.put).toHaveBeenCalledWithParameters({ region: 'AAA' });
                });
                it('when just called with attributes', function () {
                    serviceUnderTest.editLineItemFromDetails(7, { id: 3, asset: { some: 'asset', timeStart: 333, timeEnd: 999 } }, null, [{ selectedAttributeName: 'some', selectedAttributeValue: 'attribute' }]);
                    expect(mockApiService.put).toHaveBeenCalledWithApi(api_interface_1.Api.Orders);
                    expect(mockApiService.put).toHaveBeenCalledWithEndpoint('quote/7/update/lineItem/3');
                    expect(mockApiService.put).toHaveBeenCalledWithLoading(true);
                    expect(mockApiService.put).toHaveBeenCalledWithBody({
                        id: 3,
                        asset: { some: 'asset', timeStart: 333, timeEnd: 999 },
                        attributes: [
                            { selectedAttributeName: 'some', selectedAttributeValue: 'attribute' }
                        ]
                    });
                    expect(mockApiService.put).toHaveBeenCalledWithParameters({ region: 'AAA' });
                });
                it('when just called with markers', function () {
                    serviceUnderTest.editLineItemFromDetails(7, {
                        id: 3,
                        asset: { some: 'asset' }
                    }, { in: new index_1.Frame(30).setFromFrameNumber(30), out: new index_1.Frame(30).setFromFrameNumber(60) }, null);
                    expect(mockApiService.put).toHaveBeenCalledWithApi(api_interface_1.Api.Orders);
                    expect(mockApiService.put).toHaveBeenCalledWithEndpoint('quote/7/update/lineItem/3');
                    expect(mockApiService.put).toHaveBeenCalledWithLoading(true);
                    expect(mockApiService.put).toHaveBeenCalledWithBody({
                        id: 3,
                        asset: { some: 'asset', timeStart: 1000, timeEnd: 2000 },
                        attributes: []
                    });
                    expect(mockApiService.put).toHaveBeenCalledWithParameters({ region: 'AAA' });
                });
            });
        });
        describe('removeAsset()', function () {
            it('calls the API correctly', function () {
                serviceUnderTest.removeAsset(123, { uuid: 'ABCD' });
                expect(mockApiService.delete).toHaveBeenCalledWithApi(api_interface_1.Api.Orders);
                expect(mockApiService.delete).toHaveBeenCalledWithEndpoint('quote/123/asset/ABCD');
                expect(mockApiService.delete).toHaveBeenCalledWithLoading(true);
            });
        });
        describe('addCustomPriceToLineItem', function () {
            it('calls the apiService correctly if override is false', function () {
                serviceUnderTest.addCustomPriceToLineItem(10, { id: 'abc-123', itemPrice: 100 }, 1000, false);
                expect(mockApiService.put).toHaveBeenCalledWithApi(api_interface_1.Api.Orders);
                expect(mockApiService.put).toHaveBeenCalledWithEndpoint('quote/10/update/lineItem/abc-123');
                expect(mockApiService.put).toHaveBeenCalledWithBody({
                    id: 'abc-123',
                    itemPrice: 100,
                    multiplier: 10,
                    overrideGrossAssetPrice: null
                });
                expect(mockApiService.put).toHaveBeenCalledWithParameters({ region: 'AAA' });
                expect(mockApiService.put).toHaveBeenCalledWithLoading(true);
            });
            it('calls the apiService correctly if override is true', function () {
                serviceUnderTest.addCustomPriceToLineItem(10, { id: 'abc-123', itemPrice: 100 }, 1000, true);
                expect(mockApiService.put).toHaveBeenCalledWithApi(api_interface_1.Api.Orders);
                expect(mockApiService.put).toHaveBeenCalledWithEndpoint('quote/10/update/lineItem/abc-123');
                expect(mockApiService.put).toHaveBeenCalledWithBody({
                    id: 'abc-123',
                    itemPrice: 100,
                    multiplier: null,
                    overrideGrossAssetPrice: 1000
                });
                expect(mockApiService.put).toHaveBeenCalledWithParameters({ region: 'AAA' });
                expect(mockApiService.put).toHaveBeenCalledWithLoading(true);
            });
        });
        describe('sendQuote', function () {
            it('should call the api service correctly', function () {
                serviceUnderTest.sendQuote(3, 'ross.edfort@wazeedigital.com', {
                    expirationDate: '2017-03-22T06:00:00.000Z',
                    agreementId: 'KLN-0090-001',
                    salesManager: 'sven.peterson@wazeedigital.com',
                    billingAccountId: 123,
                    invoiceContactType: 'User',
                    invoiceContactId: 7
                }).take(1).subscribe();
                expect(mockApiService.put).toHaveBeenCalledWithApi(api_interface_1.Api.Orders);
                expect(mockApiService.put).toHaveBeenCalledWithEndpoint('quote/send/3');
                expect(mockApiService.put).toHaveBeenCalledWithParameters({ ownerEmail: 'ross.edfort@wazeedigital.com' });
                expect(mockApiService.put).toHaveBeenCalledWithBody({
                    expirationDate: '2017-03-22T06:00:00.000Z',
                    agreementId: 'KLN-0090-001',
                    salesManager: 'sven.peterson@wazeedigital.com',
                    billingAccountId: 123,
                    invoiceContactType: 'User',
                    invoiceContactId: 7
                });
            });
        });
        describe('cloneQuote()', function () {
            var mockState = { data: { id: 3, ownerUserId: 10, total: 90, subTotal: 100, projects: [{ name: 'Project A' }] } };
            it("Should call the deletePropertiesFromObject() method with a seperate cloned version\n        of the current quote", function () {
                spyOn(common_functions_1.Common, 'deletePropertiesFromObject');
                serviceUnderTest.cloneQuote(mockState);
                expect(common_functions_1.Common.deletePropertiesFromObject).toHaveBeenCalledWith(mockState, [
                    'id', 'createdUserId', 'ownerUserId', 'createdOn', 'lastUpdated', 'expirationDate', 'quoteStatus',
                    'paymentTerms', 'poNumber', 'bulkOrderId', 'poReference', 'campaignReference', 'orderId', 'billingAccountId',
                    'invoiceContact', 'salesManager', 'ownerData', 'billingAccountData', 'userId', 'externalLicenseIds', 'internalLicenseIds',
                    'externalAgreementIds', 'internalAgreementIds'
                ]);
            });
            it('calls the API service correctly', function () {
                serviceUnderTest.cloneQuote(mockState).subscribe(function () {
                    expect(mockApiService.post).toHaveBeenCalledWithApi(api_interface_1.Api.Orders);
                    expect(mockApiService.post).toHaveBeenCalledWithEndpoint('quote');
                    expect(mockApiService.post).toHaveBeenCalledWithLoading(true);
                    expect(mockApiService.post).toHaveBeenCalledWithBody({
                        data: {
                            total: 90,
                            subTotal: 100,
                            projects: [{ name: 'Project A' }]
                        }
                    });
                });
            });
        });
        describe('createQuote()', function () {
            it('calls the API service correctly', function () {
                serviceUnderTest.createQuote().subscribe(function () {
                    expect(mockApiService.post).toHaveBeenCalledWithApi(api_interface_1.Api.Orders);
                    expect(mockApiService.post).toHaveBeenCalledWithEndpoint('quote');
                    expect(mockApiService.post).toHaveBeenCalledWithLoading(true);
                });
            });
        });
        describe('updateQuoteField()', function () {
            it('should call the API service correctly - add', function () {
                serviceUnderTest.updateQuoteField({ field: 'somefield' }, {
                    id: 3, ownerUserId: 10, total: 90, subTotal: 100, bulkOrderId: 'abc-123', projects: [{ name: 'Project A' }]
                });
                var expectedBody = Object.assign({
                    id: 3, ownerUserId: 10, total: 90, subTotal: 100, bulkOrderId: 'abc-123', projects: [{ name: 'Project A' }],
                    field: 'somefield'
                });
                expect(mockApiService.put).toHaveBeenCalledWithApi(api_interface_1.Api.Orders);
                expect(mockApiService.put).toHaveBeenCalledWithEndpoint('quote/3');
                expect(mockApiService.put).toHaveBeenCalledWithBody(expectedBody);
            });
            it('should call the API service correctly - remove', function () {
                serviceUnderTest.updateQuoteField({ bulkOrderId: '' }, {
                    id: 3, ownerUserId: 10, total: 90, subTotal: 100, bulkOrderId: 'abc-123', projects: [{ name: 'Project A' }]
                });
                expect(mockApiService.put).toHaveBeenCalledWithApi(api_interface_1.Api.Orders);
                expect(mockApiService.put).toHaveBeenCalledWithEndpoint('quote/3');
                expect(mockApiService.put).toHaveBeenCalledWithBody({
                    id: 3, ownerUserId: 10, total: 90, subTotal: 100, projects: [{ name: 'Project A' }]
                });
            });
        });
        describe('addFeeTo()', function () {
            it('calls the API service as expected', function () {
                serviceUnderTest.addFeeTo(1, { some: 'project', name: 'projectName' }, { some: 'fee' });
                expect(mockApiService.put).toHaveBeenCalledWithApi(api_interface_1.Api.Orders);
                expect(mockApiService.put).toHaveBeenCalledWithEndpoint('quote/1/fee/lineItem');
                expect(mockApiService.put).toHaveBeenCalledWithBody({ some: 'fee' });
                expect(mockApiService.put).toHaveBeenCalledWithParameters({ projectName: 'projectName' });
                expect(mockApiService.put).toHaveBeenCalledWithLoading(true);
            });
        });
        describe('removeFee()', function () {
            it('calls the API service as expected', function () {
                serviceUnderTest.removeFee(1, { some: 'fee', id: 47 });
                expect(mockApiService.delete).toHaveBeenCalledWithApi(api_interface_1.Api.Orders);
                expect(mockApiService.delete).toHaveBeenCalledWithEndpoint('quote/1/fee/47');
                expect(mockApiService.delete).toHaveBeenCalledWithLoading(true);
            });
        });
        describe('bulkImport', function () {
            it('calls the api service correctly', function () {
                serviceUnderTest.bulkImport(1, { lineItemAttributes: 'one\ntwo' }, 'abc-123');
                expect(mockApiService.put).toHaveBeenCalledWithApi(api_interface_1.Api.Orders);
                expect(mockApiService.put).toHaveBeenCalledWithEndpoint('quote/1/asset/direct/lineItem');
                expect(mockApiService.put).toHaveBeenCalledWithBody({ lineItemAttributes: 'one\ntwo' });
                expect(mockApiService.put).toHaveBeenCalledWithParameters({ projectId: 'abc-123' });
                expect(mockApiService.put).toHaveBeenCalledWithLoading(true);
            });
        });
        describe('editLineItem()', function () {
            it('should call the API service correctly', function () {
                serviceUnderTest.editLineItem(1, { id: '123' }, { pricingAttributes: { Distribution: 'Online Streaming' } });
                expect(mockApiService.put).toHaveBeenCalledWithApi(api_interface_1.Api.Orders);
                expect(mockApiService.put).toHaveBeenCalledWithEndpoint('quote/1/update/lineItem/123');
                expect(mockApiService.put).toHaveBeenCalledWithBody({
                    id: '123',
                    attributes: {
                        Distribution: 'Online Streaming'
                    }
                });
                expect(mockApiService.put).toHaveBeenCalledWithParameters({ region: 'AAA' });
                expect(mockApiService.put).toHaveBeenCalledWithLoading(true);
            });
            it('should call the API service correctly without pricingAttributes', function () {
                serviceUnderTest.editLineItem(1, { id: '123' }, { attributes: { Distribution: 'Online Streaming' } });
                expect(mockApiService.put).toHaveBeenCalledWithApi(api_interface_1.Api.Orders);
                expect(mockApiService.put).toHaveBeenCalledWithEndpoint('quote/1/update/lineItem/123');
                expect(mockApiService.put).toHaveBeenCalledWithBody({
                    id: '123',
                    attributes: {
                        Distribution: 'Online Streaming'
                    }
                });
                expect(mockApiService.put).toHaveBeenCalledWithParameters({ region: 'AAA' });
                expect(mockApiService.put).toHaveBeenCalledWithLoading(true);
            });
        });
        describe('addAssetToProjectInQuote()', function () {
            var snackbarSpy;
            it('should call the API service correctly', function () {
                serviceUnderTest.addAssetToProjectInQuote(1, ['project1', 'project2'], {
                    lineItem: { id: '123', asset: { assetId: 456 } }, attributes: { Distribution: 'Online Streaming' }
                });
                expect(mockApiService.put).toHaveBeenCalledWithApi(api_interface_1.Api.Orders);
                expect(mockApiService.put).toHaveBeenCalledWithEndpoint('quote/1/asset/lineItem');
                expect(mockApiService.put).toHaveBeenCalledWithBody({
                    lineItem: { id: '123', asset: { assetId: 456, timeStart: -1, timeEnd: -2 } },
                    attributes: {
                        Distribution: 'Online Streaming'
                    }
                });
                expect(mockApiService.put).toHaveBeenCalledWithParameters({
                    projectName: 'project2',
                    region: 'AAA'
                });
                expect(mockApiService.put).toHaveBeenCalledWithLoading(true);
            });
        });
        describe('addProject()', function () {
            it('calls the API service correctly', function () {
                serviceUnderTest.addProject(1);
                expect(mockApiService.post).toHaveBeenCalledWithApi(api_interface_1.Api.Orders);
                expect(mockApiService.post).toHaveBeenCalledWithEndpoint('quote/1/project');
                expect(mockApiService.post).toHaveBeenCalledWithLoading(true);
            });
        });
        describe('removeProject()', function () {
            it('should call the API service correctly', function () {
                serviceUnderTest.removeProject(1, 123);
                expect(mockApiService.delete).toHaveBeenCalledWithApi(api_interface_1.Api.Orders);
                expect(mockApiService.delete).toHaveBeenCalledWithEndpoint('quote/1/project/123');
                expect(mockApiService.delete).toHaveBeenCalledWithLoading(true);
            });
        });
        describe('updateProject()', function () {
            it('call the API service correctly', function () {
                serviceUnderTest.updateProject(1, { name: 'New Project Name' });
                expect(mockApiService.put).toHaveBeenCalledWithApi(api_interface_1.Api.Orders);
                expect(mockApiService.put).toHaveBeenCalledWithEndpoint('quote/1/project');
                expect(mockApiService.put).toHaveBeenCalledWithBody({ name: 'New Project Name' });
                expect(mockApiService.put).toHaveBeenCalledWithLoading(true);
            });
        });
        describe('moveLineItem()', function () {
            it('call the API service correctly', function () {
                serviceUnderTest.moveLineItem(1, { id: '123' }, { id: '456' });
                expect(mockApiService.put).toHaveBeenCalledWithApi(api_interface_1.Api.Orders);
                expect(mockApiService.put).toHaveBeenCalledWithEndpoint('quote/1/move/lineItem');
                expect(mockApiService.put).toHaveBeenCalledWithParameters({ lineItemId: '456', projectId: '123' });
                expect(mockApiService.put).toHaveBeenCalledWithLoading(true);
            });
        });
        describe('cloneLineItem()', function () {
            it('should call the API service correctly', function () {
                serviceUnderTest.cloneLineItem(1, { id: '123' });
                expect(mockApiService.put).toHaveBeenCalledWithApi(api_interface_1.Api.Orders);
                expect(mockApiService.put).toHaveBeenCalledWithEndpoint('quote/1/clone/lineItem');
                expect(mockApiService.put).toHaveBeenCalledWithParameters({ lineItemId: '123' });
                expect(mockApiService.put).toHaveBeenCalledWithLoading(true);
            });
        });
        describe('editLineItemMarkers()', function () {
            it('should call the API service correctly', function () {
                serviceUnderTest.editLineItemMarkers(1, { id: '123', asset: { test: 'asset' } }, { in: new index_1.Frame(3), out: new index_1.Frame(25) });
                expect(mockApiService.put).toHaveBeenCalledWithApi(api_interface_1.Api.Orders);
                expect(mockApiService.put).toHaveBeenCalledWithEndpoint("quote/1/update/lineItem/123");
                expect(mockApiService.put).toHaveBeenCalledWithParameters({ region: 'AAA' });
                expect(mockApiService.put).toHaveBeenCalledWithBody({
                    id: '123',
                    asset: {
                        test: 'asset',
                        timeStart: null,
                        timeEnd: null
                    }
                });
                expect(mockApiService.put).toHaveBeenCalledWithLoading(true);
            });
        });
        describe('updateProjectPriceAttributes()', function () {
            it('should call the API service correctly', function () {
                serviceUnderTest.updateProjectPriceAttributes(1, [{ priceAttributeName: 'Distribution', selectedAttributeValue: 'Online Streaming' }], { id: '123', name: 'Project A', clientName: 'Ross Edfort', subtotal: 100 });
                expect(mockApiService.put).toHaveBeenCalledWithApi(api_interface_1.Api.Orders);
                expect(mockApiService.put).toHaveBeenCalledWithEndpoint('quote/1/project/priceAttributes/123');
                expect(mockApiService.put).toHaveBeenCalledWithBody([{ priceAttributeName: 'Distribution', selectedAttributeValue: 'Online Streaming' }]);
                expect(mockApiService.put).toHaveBeenCalledWithLoading(true);
            });
        });
        describe('addNote()', function () {
            it('replaces the first note if the field already exists', function () {
                serviceUnderTest.addNote(111, 'some note', { id: 'abc-123', notes: [{ notes: ['note'] }] });
                expect(mockApiService.put).toHaveBeenCalledWithApi(api_interface_1.Api.Orders);
                expect(mockApiService.put).toHaveBeenCalledWithEndpoint('quote/111/update/lineItem/abc-123');
                expect(mockApiService.put).toHaveBeenCalledWithBody({ id: 'abc-123', notes: [{ notes: ['some note'] }] });
                expect(mockApiService.put).toHaveBeenCalledWithLoading(true);
            });
            it('adds the \'notes\' if the field doesn\'t exists', function () {
                serviceUnderTest.addNote(111, 'some note', { id: 'abc-123' });
                expect(mockApiService.put).toHaveBeenCalledWithApi(api_interface_1.Api.Orders);
                expect(mockApiService.put).toHaveBeenCalledWithEndpoint('quote/111/update/lineItem/abc-123');
                expect(mockApiService.put).toHaveBeenCalledWithBody({ id: 'abc-123', notes: [{ notes: ['some note'] }] });
                expect(mockApiService.put).toHaveBeenCalledWithLoading(true);
            });
        });
        describe('removeNoteFrom()', function () {
            it('calls the apiService correctly', function () {
                serviceUnderTest.removeNote(111, { id: 'abc-123', some: 'lineItem', notes: [{ notes: ['some note'] }] });
                expect(mockApiService.put).toHaveBeenCalledWithApi(api_interface_1.Api.Orders);
                expect(mockApiService.put).toHaveBeenCalledWithEndpoint('quote/111/update/lineItem/abc-123');
                expect(mockApiService.put).toHaveBeenCalledWithBody({ id: 'abc-123', some: 'lineItem' });
                expect(mockApiService.put).toHaveBeenCalledWithLoading(true);
            });
        });
    });
}
exports.main = main;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9zdG9yZS9xdW90ZS1lZGl0L3F1b3RlLWVkaXQuc2VydmljZS5zcGVjLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsNEVBQWlFO0FBQ2pFLDJEQUE4RDtBQUM5RCxxRUFBbUY7QUFDbkYsdUVBQTREO0FBQzVELDBFQUF5RTtBQUV6RTtJQUNFLFFBQVEsQ0FBQywyQkFBMkIsRUFBRTtRQUNwQyxJQUFJLGdCQUF3QyxFQUFFLGNBQThCLENBQUM7UUFFN0UsVUFBVSxDQUFDO1lBQ1QsT0FBTyxDQUFDLFdBQVcsQ0FBQyxrQ0FBZSxDQUFDLENBQUM7WUFDckMsY0FBYyxHQUFHLElBQUksaUNBQWMsRUFBRSxDQUFDO1lBRXRDLGdCQUFnQixHQUFHLElBQUksMkNBQXNCLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3pFLENBQUMsQ0FBQyxDQUFDO1FBRUgsUUFBUSxDQUFDLFFBQVEsRUFBRTtZQUNqQixFQUFFLENBQUMsaUNBQWlDLEVBQUU7Z0JBQ3BDLGdCQUFnQixDQUFDLElBQUksRUFBRSxDQUFDO2dCQUV4QixNQUFNLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxDQUFDLHVCQUF1QixDQUFDLG1CQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQy9ELE1BQU0sQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLENBQUMsNEJBQTRCLENBQUMsZUFBZSxDQUFDLENBQUM7Z0JBQ3pFLE1BQU0sQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLENBQUMsMkJBQTJCLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDL0QsQ0FBQyxDQUFDLENBQUM7WUFFSCxFQUFFLENBQUMsdUJBQXVCLEVBQUU7Z0JBQzFCLGNBQWMsQ0FBQyxXQUFXLEdBQUcsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLENBQUM7Z0JBRS9DLGdCQUFnQixDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsQ0FBQyxVQUFBLENBQUMsSUFBSSxPQUFBLE1BQU0sQ0FBQyxDQUFDLENBQUMs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TUFBTSxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsQ0FBQyw0QkFBNEIsQ0FBQyxtQ0FBbUMsQ0FBQyxDQUFDO2dCQUM3RixNQUFNLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxDQUFDLHdCQUF3QixDQUFDLEVBQUUsRUFBRSxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLENBQUMsQ0FBQztnQkFDekYsTUFBTSxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsQ0FBQywyQkFBMkIsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUMvRCxDQUFDLENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDO0FBdmRELG9CQXVkQyIsImZpbGUiOiJhcHAvc3RvcmUvcXVvdGUtZWRpdC9xdW90ZS1lZGl0LnNlcnZpY2Uuc3BlYy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbW1vbiB9IGZyb20gJy4uLy4uL3NoYXJlZC91dGlsaXRpZXMvY29tbW9uLmZ1bmN0aW9ucyc7XG5pbXBvcnQgeyBGdXR1cmVRdW90ZUVkaXRTZXJ2aWNlIH0gZnJvbSAnLi9xdW90ZS1lZGl0LnNlcnZpY2UnO1xuaW1wb3J0IHsgTW9ja0FwaVNlcnZpY2UsIG1vY2tBcGlNYXRjaGVycyB9IGZyb20gJy4uL3NwZWMtaGVscGVycy9tb2NrLWFwaS5zZXJ2aWNlJztcbmltcG9ydCB7IEFwaSB9IGZyb20gJy4uLy4uL3NoYXJlZC9pbnRlcmZhY2VzL2FwaS5pbnRlcmZhY2UnO1xuaW1wb3J0IHsgRnJhbWUgfSBmcm9tICcuLi8uLi9zaGFyZWQvbW9kdWxlcy93YXplZS1mcmFtZS1mb3JtYXR0ZXIvaW5kZXgnO1xuXG5leHBvcnQgZnVuY3Rpb24gbWFpbigpIHtcbiAgZGVzY3JpYmUoJ0Z1dHVyZSBRdW90ZSBFZGl0IFNlcnZpY2UnLCAoKSA9PiB7XG4gICAgbGV0IHNlcnZpY2VVbmRlclRlc3Q6IEZ1dHVyZVF1b3RlRWRpdFNlcnZpY2UsIG1vY2tBcGlTZXJ2aWNlOiBNb2NrQXBpU2VydmljZTtcblxuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgamFzbWluZS5hZGRNYXRjaGVycyhtb2NrQXBpTWF0Y2hlcnMpO1xuICAgICAgbW9ja0FwaVNlcnZpY2UgPSBuZXcgTW9ja0FwaVNlcnZpY2UoKTtcblxuICAgICAgc2VydmljZVVuZGVyVGVzdCA9IG5ldyBGdXR1cmVRdW90ZUVkaXRTZXJ2aWNlKG1vY2tBcGlTZXJ2aWNlLmluamVjdG9yKTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCdsb2FkKCknLCAoKSA9PiB7XG4gICAgICBpdCgnY2FsbHMgdGhlIGFwaSBzZXJ2aWNlIGNvcnJlY3RseScsICgpID0+IHtcbiAgICAgICAgc2VydmljZVVuZGVyVGVzdC5sb2FkKCk7XG5cbiAgICAgICAgZXhwZWN0KG1vY2tBcGlTZXJ2aWNlLmdldCkudG9IYXZlQmVlbkNhbGxlZFdpdGhBcGkoQXBpLk9yZGVycyk7XG4gICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5nZXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoRW5kcG9pbnQoJ3F1b3RlL2ZvY3VzZWQnKTtcbiAgICAgICAgZXhwZWN0KG1vY2tBcGlTZXJ2aWNlLmdldCkudG9IYXZlQmVlbkNhbGxlZFdpdGhMb2FkaW5nKHRydWUpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdyZXR1cm5zIGFuIG9ic2VydmFibGUnLCAoKSA9PiB7XG4gICAgICAgIG1vY2tBcGlTZXJ2aWNlLmdldFJlc3BvbnNlID0geyBzb21lOiAncXVvdGUnIH07XG5cbiAgICAgICAgc2VydmljZVVuZGVyVGVzdC5sb2FkKCkuc3Vic2NyaWJlKHEgPT4gZXhwZWN0KHEpLnRvRXF1YWwoeyBzb21lOiAncXVvdGUnIH0pKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ2RlbGV0ZSgpJywgKCkgPT4ge1xuICAgICAgaXQoJ2NhbGxzIHRoZSBhcGkgc2VydmljZSBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgICAgIHNlcnZpY2VVbmRlclRlc3QuZGVsZXRlKDEpO1xuXG4gICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5kZWxldGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoQXBpKEFwaS5PcmRlcnMpO1xuICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UuZGVsZXRlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aEVuZHBvaW50KCdxdW90ZS8xJyk7XG4gICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5kZWxldGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoTG9hZGluZygnb25CZWZvcmVSZXF1ZXN0Jyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3N3aXRjaE1hcHMgdG8gYSAubG9hZCgpJywgKCkgPT4ge1xuICAgICAgICBsZXQgcmVzcG9uc2U6IGFueTtcbiAgICAgICAgc2VydmljZVVuZGVyVGVzdC5kZWxldGUoMSkuc3Vic2NyaWJlKHJlcyA9PiByZXNwb25zZSA9IHJlcyk7XG5cbiAgICAgICAgZXhwZWN0KG1vY2tBcGlTZXJ2aWNlLmdldCkudG9IYXZlQmVlbkNhbGxlZFdpdGhBcGkoQXBpLk9yZGVycyk7XG4gICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5nZXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoRW5kcG9pbnQoJ3F1b3RlL2ZvY3VzZWQnKTtcbiAgICAgICAgZXhwZWN0KG1vY2tBcGlTZXJ2aWNlLmdldCkudG9IYXZlQmVlbkNhbGxlZFdpdGhMb2FkaW5nKHRydWUpO1xuXG4gICAgICAgIGV4cGVjdChyZXNwb25zZSkudG9FcXVhbChtb2NrQXBpU2VydmljZS5nZXRSZXNwb25zZSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCdlZGl0TGluZUl0ZW1Gcm9tRGV0YWlscygpJywgKCkgPT4ge1xuICAgICAgZGVzY3JpYmUoJ2NhbGxzIHRoZSBhcGkgc2VydmljZSBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgICAgIGl0KCd3aGVuIGNhbGxlZCB3aXRoIG1hcmtlcnMgYW5kIGF0dHJpYnV0ZXMnLCAoKSA9PiB7XG4gICAgICAgICAgc2VydmljZVVuZGVyVGVzdC5lZGl0TGluZUl0ZW1Gcm9tRGV0YWlscyhcbiAgICAgICAgICAgIDcsXG4gICAgICAgICAgICB7IGlkOiAzLCBhc3NldDogeyBzb21lOiAnYXNzZXQnIH0gfSBhcyBhbnksXG4gICAgICAgICAgICB7IGluOiBuZXcgRnJhbWUoMzApLnNldEZyb21GcmFtZU51bWJlcigzMCksIG91dDogbmV3IEZyYW1lKDMwKS5zZXRGcm9tRnJhbWVOdW1iZXIoNjApIH0sXG4gICAgICAgICAgICBbeyBzZWxlY3RlZEF0dHJpYnV0ZU5hbWU6ICdzb21lJywgc2VsZWN0ZWRBdHRyaWJ1dGVWYWx1ZTogJ2F0dHJpYnV0ZScgfV0gYXMgYW55XG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoQXBpKEFwaS5PcmRlcnMpO1xuICAgICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoRW5kcG9pbnQoJ3F1b3RlLzcvdXBkYXRlL2xpbmVJdGVtLzMnKTtcbiAgICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aExvYWRpbmcodHJ1ZSk7XG4gICAgICAgICAgZXhwZWN0KG1vY2tBcGlTZXJ2aWNlLnB1dCkudG9IYXZlQmVlbkNhbGxlZFdpdGhCb2R5KHtcbiAgICAgICAgICAgIGlkOiAzLFxuICAgICAgICAgICAgYXNzZXQ6IHsgc29tZTogJ2Fzc2V0JywgdGltZVN0YXJ0OiAxMDAwLCB0aW1lRW5kOiAyMDAwIH0sXG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiBbXG4gICAgICAgICAgICAgIHsgc2VsZWN0ZWRBdHRyaWJ1dGVOYW1lOiAnc29tZScsIHNlbGVjdGVkQXR0cmlidXRlVmFsdWU6ICdhdHRyaWJ1dGUnIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aFBhcmFtZXRlcnMoeyByZWdpb246ICdBQUEnIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnd2hlbiBqdXN0IGNhbGxlZCB3aXRoIGF0dHJpYnV0ZXMnLCAoKSA9PiB7XG4gICAgICAgICAgc2VydmljZVVuZGVyVGVzdC5lZGl0TGluZUl0ZW1Gcm9tRGV0YWlscyhcbiAgICAgICAgICAgIDcsXG4gICAgICAgICAgICB7IGlkOiAzLCBhc3NldDogeyBzb21lOiAnYXNzZXQnLCB0aW1lU3RhcnQ6IDMzMywgdGltZUVuZDogOTk5IH0gfSBhcyBhbnksXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgW3sgc2VsZWN0ZWRBdHRyaWJ1dGVOYW1lOiAnc29tZScsIHNlbGVjdGVkQXR0cmlidXRlVmFsdWU6ICdhdHRyaWJ1dGUnIH1dIGFzIGFueVxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aEFwaShBcGkuT3JkZXJzKTtcbiAgICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aEVuZHBvaW50KCdxdW90ZS83L3VwZGF0ZS9saW5lSXRlbS8zJyk7XG4gICAgICAgICAgZXhwZWN0KG1vY2tBcGlTZXJ2aWNlLnB1dCkudG9IYXZlQmVlbkNhbGxlZFdpdGhMb2FkaW5nKHRydWUpO1xuICAgICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoQm9keSh7XG4gICAgICAgICAgICBpZDogMyxcbiAgICAgICAgICAgIGFzc2V0OiB7IHNvbWU6ICdhc3NldCcsIHRpbWVTdGFydDogMzMzLCB0aW1lRW5kOiA5OTkgfSxcbiAgICAgICAgICAgIGF0dHJpYnV0ZXM6IFtcbiAgICAgICAgICAgICAgeyBzZWxlY3RlZEF0dHJpYnV0ZU5hbWU6ICdzb21lJywgc2VsZWN0ZWRBdHRyaWJ1dGVWYWx1ZTogJ2F0dHJpYnV0ZScgfVxuICAgICAgICAgICAgXVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoUGFyYW1ldGVycyh7IHJlZ2lvbjogJ0FBQScgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCd3aGVuIGp1c3QgY2FsbGVkIHdpdGggbWFya2VycycsICgpID0+IHtcbiAgICAgICAgICBzZXJ2aWNlVW5kZXJUZXN0LmVkaXRMaW5lSXRlbUZyb21EZXRhaWxzKFxuICAgICAgICAgICAgNyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWQ6IDMsXG4gICAgICAgICAgICAgIGFzc2V0OiB7IHNvbWU6ICdhc3NldCcgfVxuICAgICAgICAgICAgfSBhcyBhbnksXG4gICAgICAgICAgICB7IGluOiBuZXcgRnJhbWUoMzApLnNldEZyb21GcmFtZU51bWJlcigzMCksIG91dDogbmV3IEZyYW1lKDMwKS5zZXRGcm9tRnJhbWVOdW1iZXIoNjApIH0sXG4gICAgICAgICAgICBudWxsXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoQXBpKEFwaS5PcmRlcnMpO1xuICAgICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoRW5kcG9pbnQoJ3F1b3RlLzcvdXBkYXRlL2xpbmVJdGVtLzMnKTtcbiAgICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aExvYWRpbmcodHJ1ZSk7XG4gICAgICAgICAgZXhwZWN0KG1vY2tBcGlTZXJ2aWNlLnB1dCkudG9IYXZlQmVlbkNhbGxlZFdpdGhCb2R5KHtcbiAgICAgICAgICAgIGlkOiAzLFxuICAgICAgICAgICAgYXNzZXQ6IHsgc29tZTogJ2Fzc2V0JywgdGltZVN0YXJ0OiAxMDAwLCB0aW1lRW5kOiAyMDAwIH0sXG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiBbXVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoUGFyYW1ldGVycyh7IHJlZ2lvbjogJ0FBQScgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgncmVtb3ZlQXNzZXQoKScsICgpID0+IHtcbiAgICAgIGl0KCdjYWxscyB0aGUgQVBJIGNvcnJlY3RseScsICgpID0+IHtcbiAgICAgICAgc2VydmljZVVuZGVyVGVzdC5yZW1vdmVBc3NldCgxMjMsIHsgdXVpZDogJ0FCQ0QnIH0pO1xuXG4gICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5kZWxldGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoQXBpKEFwaS5PcmRlcnMpO1xuICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UuZGVsZXRlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aEVuZHBvaW50KCdxdW90ZS8xMjMvYXNzZXQvQUJDRCcpO1xuICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UuZGVsZXRlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aExvYWRpbmcodHJ1ZSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCdhZGRDdXN0b21QcmljZVRvTGluZUl0ZW0nLCAoKSA9PiB7XG4gICAgICBpdCgnY2FsbHMgdGhlIGFwaVNlcnZpY2UgY29ycmVjdGx5IGlmIG92ZXJyaWRlIGlzIGZhbHNlJywgKCkgPT4ge1xuICAgICAgICBzZXJ2aWNlVW5kZXJUZXN0LmFkZEN1c3RvbVByaWNlVG9MaW5lSXRlbSgxMCwgeyBpZDogJ2FiYy0xMjMnLCBpdGVtUHJpY2U6IDEwMCB9IGFzIGFueSwgMTAwMCwgZmFsc2UpO1xuXG4gICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoQXBpKEFwaS5PcmRlcnMpO1xuICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aEVuZHBvaW50KCdxdW90ZS8xMC91cGRhdGUvbGluZUl0ZW0vYWJjLTEyMycpO1xuICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aEJvZHkoe1xuICAgICAgICAgIGlkOiAnYWJjLTEyMycsXG4gICAgICAgICAgaXRlbVByaWNlOiAxMDAsXG4gICAgICAgICAgbXVsdGlwbGllcjogMTAsXG4gICAgICAgICAgb3ZlcnJpZGVHcm9zc0Fzc2V0UHJpY2U6IG51bGxcbiAgICAgICAgfSk7XG4gICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoUGFyYW1ldGVycyh7IHJlZ2lvbjogJ0FBQScgfSk7XG4gICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoTG9hZGluZyh0cnVlKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnY2FsbHMgdGhlIGFwaVNlcnZpY2UgY29ycmVjdGx5IGlmIG92ZXJyaWRlIGlzIHRydWUnLCAoKSA9PiB7XG4gICAgICAgIHNlcnZpY2VVbmRlclRlc3QuYWRkQ3VzdG9tUHJpY2VUb0xpbmVJdGVtKDEwLCB7IGlkOiAnYWJjLTEyMycsIGl0ZW1QcmljZTogMTAwIH0gYXMgYW55LCAxMDAwLCB0cnVlKTtcblxuICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aEFwaShBcGkuT3JkZXJzKTtcbiAgICAgICAgZXhwZWN0KG1vY2tBcGlTZXJ2aWNlLnB1dCkudG9IYXZlQmVlbkNhbGxlZFdpdGhFbmRwb2ludCgncXVvdGUvMTAvdXBkYXRlL2xpbmVJdGVtL2FiYy0xMjMnKTtcbiAgICAgICAgZXhwZWN0KG1vY2tBcGlTZXJ2aWNlLnB1dCkudG9IYXZlQmVlbkNhbGxlZFdpdGhCb2R5KHtcbiAgICAgICAgICBpZDogJ2FiYy0xMjMnLFxuICAgICAgICAgIGl0ZW1QcmljZTogMTAwLFxuICAgICAgICAgIG11bHRpcGxpZXI6IG51bGwsXG4gICAgICAgICAgb3ZlcnJpZGVHcm9zc0Fzc2V0UHJpY2U6IDEwMDBcbiAgICAgICAgfSk7XG4gICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoUGFyYW1ldGVycyh7IHJlZ2lvbjogJ0FBQScgfSk7XG4gICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoTG9hZGluZyh0cnVlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ3NlbmRRdW90ZScsICgpID0+IHtcbiAgICAgIGl0KCdzaG91bGQgY2FsbCB0aGUgYXBpIHNlcnZpY2UgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgICBzZXJ2aWNlVW5kZXJUZXN0LnNlbmRRdW90ZSgzLCAncm9zcy5lZGZvcnRAd2F6ZWVkaWdpdGFsLmNvbScsIHtcbiAgICAgICAgICBleHBpcmF0aW9uRGF0ZTogJzIwMTctMDMtMjJUMDY6MDA6MDAuMDAwWicsXG4gICAgICAgICAgYWdyZWVtZW50SWQ6ICdLTE4tMDA5MC0wMDEnLFxuICAgICAgICAgIHNhbGVzTWFuYWdlcjogJ3N2ZW4ucGV0ZXJzb25Ad2F6ZWVkaWdpdGFsLmNvbScsXG4gICAgICAgICAgYmlsbGluZ0FjY291bnRJZDogMTIzLFxuICAgICAgICAgIGludm9pY2VDb250YWN0VHlwZTogJ1VzZXInLFxuICAgICAgICAgIGludm9pY2VDb250YWN0SWQ6IDdcbiAgICAgICAgfSkudGFrZSgxKS5zdWJzY3JpYmUoKTtcbiAgICAgICAgZXhwZWN0KG1vY2tBcGlTZXJ2aWNlLnB1dCkudG9IYXZlQmVlbkNhbGxlZFdpdGhBcGkoQXBpLk9yZGVycyk7XG4gICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoRW5kcG9pbnQoJ3F1b3RlL3NlbmQvMycpO1xuICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aFBhcmFtZXRlcnMoeyBvd25lckVtYWlsOiAncm9zcy5lZGZvcnRAd2F6ZWVkaWdpdGFsLmNvbScgfSk7XG4gICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoQm9keSh7XG4gICAgICAgICAgZXhwaXJhdGlvbkRhdGU6ICcyMDE3LTAzLTIyVDA2OjAwOjAwLjAwMFonLFxuICAgICAgICAgIGFncmVlbWVudElkOiAnS0xOLTAwOTAtMDAxJyxcbiAgICAgICAgICBzYWxlc01hbmFnZXI6ICdzdmVuLnBldGVyc29uQHdhemVlZGlnaXRhbC5jb20nLFxuICAgICAgICAgIGJpbGxpbmdBY2NvdW50SWQ6IDEyMyxcbiAgICAgICAgICBpbnZvaWNlQ29udGFjdFR5cGU6ICdVc2VyJyxcbiAgICAgICAgICBpbnZvaWNlQ29udGFjdElkOiA3XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnY2xvbmVRdW90ZSgpJywgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1N0YXRlOiBhbnkgPSB7IGRhdGE6IHsgaWQ6IDMsIG93bmVyVXNlcklkOiAxMCwgdG90YWw6IDkwLCBzdWJUb3RhbDogMTAwLCBwcm9qZWN0czogW3sgbmFtZTogJ1Byb2plY3QgQScgfV0gfSB9O1xuICAgICAgaXQoYFNob3VsZCBjYWxsIHRoZSBkZWxldGVQcm9wZXJ0aWVzRnJvbU9iamVjdCgpIG1ldGhvZCB3aXRoIGEgc2VwZXJhdGUgY2xvbmVkIHZlcnNpb25cbiAgICAgICAgb2YgdGhlIGN1cnJlbnQgcXVvdGVgLCAoKSA9PiB7XG4gICAgICAgICAgc3B5T24oQ29tbW9uLCAnZGVsZXRlUHJvcGVydGllc0Zyb21PYmplY3QnKTtcbiAgICAgICAgICBzZXJ2aWNlVW5kZXJUZXN0LmNsb25lUXVvdGUobW9ja1N0YXRlKTtcbiAgICAgICAgICBleHBlY3QoQ29tbW9uLmRlbGV0ZVByb3BlcnRpZXNGcm9tT2JqZWN0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgICAgIG1vY2tTdGF0ZSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgJ2lkJywgJ2NyZWF0ZWRVc2VySWQnLCAnb3duZXJVc2VySWQnLCAnY3JlYXRlZE9uJywgJ2xhc3RVcGRhdGVkJywgJ2V4cGlyYXRpb25EYXRlJywgJ3F1b3RlU3RhdHVzJyxcbiAgICAgICAgICAgICAgJ3BheW1lbnRUZXJtcycsICdwb051bWJlcicsICdidWxrT3JkZXJJZCcsICdwb1JlZmVyZW5jZScsICdjYW1wYWlnblJlZmVyZW5jZScsICdvcmRlcklkJywgJ2JpbGxpbmdBY2NvdW50SWQnLFxuICAgICAgICAgICAgICAnaW52b2ljZUNvbnRhY3QnLCAnc2FsZXNNYW5hZ2VyJywgJ293bmVyRGF0YScsICdiaWxsaW5nQWNjb3VudERhdGEnLCAndXNlcklkJywgJ2V4dGVybmFsTGljZW5zZUlkcycsICdpbnRlcm5hbExpY2Vuc2VJZHMnLFxuICAgICAgICAgICAgICAnZXh0ZXJuYWxBZ3JlZW1lbnRJZHMnLCAnaW50ZXJuYWxBZ3JlZW1lbnRJZHMnXG4gICAgICAgICAgICBdXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgICBpdCgnY2FsbHMgdGhlIEFQSSBzZXJ2aWNlIGNvcnJlY3RseScsICgpID0+IHtcbiAgICAgICAgc2VydmljZVVuZGVyVGVzdC5jbG9uZVF1b3RlKG1vY2tTdGF0ZSkuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UucG9zdCkudG9IYXZlQmVlbkNhbGxlZFdpdGhBcGkoQXBpLk9yZGVycyk7XG4gICAgICAgICAgZXhwZWN0KG1vY2tBcGlTZXJ2aWNlLnBvc3QpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoRW5kcG9pbnQoJ3F1b3RlJyk7XG4gICAgICAgICAgZXhwZWN0KG1vY2tBcGlTZXJ2aWNlLnBvc3QpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoTG9hZGluZyh0cnVlKTtcbiAgICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UucG9zdCkudG9IYXZlQmVlbkNhbGxlZFdpdGhCb2R5KHtcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgdG90YWw6IDkwLFxuICAgICAgICAgICAgICBzdWJUb3RhbDogMTAwLFxuICAgICAgICAgICAgICBwcm9qZWN0czogW3sgbmFtZTogJ1Byb2plY3QgQScgfV1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCdjcmVhdGVRdW90ZSgpJywgKCkgPT4ge1xuICAgICAgaXQoJ2NhbGxzIHRoZSBBUEkgc2VydmljZSBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgICAgIHNlcnZpY2VVbmRlclRlc3QuY3JlYXRlUXVvdGUoKS5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5wb3N0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aEFwaShBcGkuT3JkZXJzKTtcbiAgICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UucG9zdCkudG9IYXZlQmVlbkNhbGxlZFdpdGhFbmRwb2ludCgncXVvdGUnKTtcbiAgICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UucG9zdCkudG9IYXZlQmVlbkNhbGxlZFdpdGhMb2FkaW5nKHRydWUpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ3VwZGF0ZVF1b3RlRmllbGQoKScsICgpID0+IHtcbiAgICAgIGl0KCdzaG91bGQgY2FsbCB0aGUgQVBJIHNlcnZpY2UgY29ycmVjdGx5IC0gYWRkJywgKCkgPT4ge1xuICAgICAgICBzZXJ2aWNlVW5kZXJUZXN0LnVwZGF0ZVF1b3RlRmllbGQoXG4gICAgICAgICAgeyBmaWVsZDogJ3NvbWVmaWVsZCcgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZDogMywgb3duZXJVc2VySWQ6IDEwLCB0b3RhbDogOTAsIHN1YlRvdGFsOiAxMDAsIGJ1bGtPcmRlcklkOiAnYWJjLTEyMycsIHByb2plY3RzOiBbeyBuYW1lOiAnUHJvamVjdCBBJyB9XVxuICAgICAgICAgIH0gYXMgYW55KTtcblxuICAgICAgICBjb25zdCBleHBlY3RlZEJvZHkgPSBPYmplY3QuYXNzaWduKFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAzLCBvd25lclVzZXJJZDogMTAsIHRvdGFsOiA5MCwgc3ViVG90YWw6IDEwMCwgYnVsa09yZGVySWQ6ICdhYmMtMTIzJywgcHJvamVjdHM6IFt7IG5hbWU6ICdQcm9qZWN0IEEnIH1dLFxuICAgICAgICAgICAgZmllbGQ6ICdzb21lZmllbGQnXG4gICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoQXBpKEFwaS5PcmRlcnMpO1xuICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aEVuZHBvaW50KCdxdW90ZS8zJyk7XG4gICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoQm9keShleHBlY3RlZEJvZHkpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgY2FsbCB0aGUgQVBJIHNlcnZpY2UgY29ycmVjdGx5IC0gcmVtb3ZlJywgKCkgPT4ge1xuICAgICAgICBzZXJ2aWNlVW5kZXJUZXN0LnVwZGF0ZVF1b3RlRmllbGQoXG4gICAgICAgICAgeyBidWxrT3JkZXJJZDogJycgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZDogMywgb3duZXJVc2VySWQ6IDEwLCB0b3RhbDogOTAsIHN1YlRvdGFsOiAxMDAsIGJ1bGtPcmRlcklkOiAnYWJjLTEyMycsIHByb2plY3RzOiBbeyBuYW1lOiAnUHJvamVjdCBBJyB9XVxuICAgICAgICAgIH0gYXMgYW55KTtcblxuICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aEFwaShBcGkuT3JkZXJzKTtcbiAgICAgICAgZXhwZWN0KG1vY2tBcGlTZXJ2aWNlLnB1dCkudG9IYXZlQmVlbkNhbGxlZFdpdGhFbmRwb2ludCgncXVvdGUvMycpO1xuICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aEJvZHkoe1xuICAgICAgICAgIGlkOiAzLCBvd25lclVzZXJJZDogMTAsIHRvdGFsOiA5MCwgc3ViVG90YWw6IDEwMCwgcHJvamVjdHM6IFt7IG5hbWU6ICdQcm9qZWN0IEEnIH1dXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnYWRkRmVlVG8oKScsICgpID0+IHtcbiAgICAgIGl0KCdjYWxscyB0aGUgQVBJIHNlcnZpY2UgYXMgZXhwZWN0ZWQnLCAoKSA9PiB7XG4gICAgICAgIHNlcnZpY2VVbmRlclRlc3QuYWRkRmVlVG8oMSwgeyBzb21lOiAncHJvamVjdCcsIG5hbWU6ICdwcm9qZWN0TmFtZScgfSBhcyBhbnksIHsgc29tZTogJ2ZlZScgfSBhcyBhbnkpO1xuXG4gICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoQXBpKEFwaS5PcmRlcnMpO1xuICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aEVuZHBvaW50KCdxdW90ZS8xL2ZlZS9saW5lSXRlbScpO1xuICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aEJvZHkoeyBzb21lOiAnZmVlJyB9KTtcbiAgICAgICAgZXhwZWN0KG1vY2tBcGlTZXJ2aWNlLnB1dCkudG9IYXZlQmVlbkNhbGxlZFdpdGhQYXJhbWV0ZXJzKHsgcHJvamVjdE5hbWU6ICdwcm9qZWN0TmFtZScgfSk7XG4gICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoTG9hZGluZyh0cnVlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ3JlbW92ZUZlZSgpJywgKCkgPT4ge1xuICAgICAgaXQoJ2NhbGxzIHRoZSBBUEkgc2VydmljZSBhcyBleHBlY3RlZCcsICgpID0+IHtcbiAgICAgICAgc2VydmljZVVuZGVyVGVzdC5yZW1vdmVGZWUoMSwgeyBzb21lOiAnZmVlJywgaWQ6IDQ3IH0gYXMgYW55KTtcblxuICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UuZGVsZXRlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aEFwaShBcGkuT3JkZXJzKTtcbiAgICAgICAgZXhwZWN0KG1vY2tBcGlTZXJ2aWNlLmRlbGV0ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGhFbmRwb2ludCgncXVvdGUvMS9mZWUvNDcnKTtcbiAgICAgICAgZXhwZWN0KG1vY2tBcGlTZXJ2aWNlLmRlbGV0ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGhMb2FkaW5nKHRydWUpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnYnVsa0ltcG9ydCcsICgpID0+IHtcbiAgICAgIGl0KCdjYWxscyB0aGUgYXBpIHNlcnZpY2UgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgICBzZXJ2aWNlVW5kZXJUZXN0LmJ1bGtJbXBvcnQoMSwgeyBsaW5lSXRlbUF0dHJpYnV0ZXM6ICdvbmVcXG50d28nIH0sICdhYmMtMTIzJyk7XG4gICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoQXBpKEFwaS5PcmRlcnMpO1xuICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aEVuZHBvaW50KCdxdW90ZS8xL2Fzc2V0L2RpcmVjdC9saW5lSXRlbScpO1xuICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aEJvZHkoeyBsaW5lSXRlbUF0dHJpYnV0ZXM6ICdvbmVcXG50d28nIH0pO1xuICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aFBhcmFtZXRlcnMoeyBwcm9qZWN0SWQ6ICdhYmMtMTIzJyB9KTtcbiAgICAgICAgZXhwZWN0KG1vY2tBcGlTZXJ2aWNlLnB1dCkudG9IYXZlQmVlbkNhbGxlZFdpdGhMb2FkaW5nKHRydWUpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnZWRpdExpbmVJdGVtKCknLCAoKSA9PiB7XG4gICAgICBpdCgnc2hvdWxkIGNhbGwgdGhlIEFQSSBzZXJ2aWNlIGNvcnJlY3RseScsICgpID0+IHtcbiAgICAgICAgc2VydmljZVVuZGVyVGVzdC5lZGl0TGluZUl0ZW0oMSwgeyBpZDogJzEyMycgfSwgeyBwcmljaW5nQXR0cmlidXRlczogeyBEaXN0cmlidXRpb246ICdPbmxpbmUgU3RyZWFtaW5nJyB9IH0pO1xuXG4gICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoQXBpKEFwaS5PcmRlcnMpO1xuICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aEVuZHBvaW50KCdxdW90ZS8xL3VwZGF0ZS9saW5lSXRlbS8xMjMnKTtcbiAgICAgICAgZXhwZWN0KG1vY2tBcGlTZXJ2aWNlLnB1dCkudG9IYXZlQmVlbkNhbGxlZFdpdGhCb2R5KHtcbiAgICAgICAgICBpZDogJzEyMycsXG4gICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgRGlzdHJpYnV0aW9uOiAnT25saW5lIFN0cmVhbWluZydcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aFBhcmFtZXRlcnMoeyByZWdpb246ICdBQUEnIH0pO1xuICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aExvYWRpbmcodHJ1ZSk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBjYWxsIHRoZSBBUEkgc2VydmljZSBjb3JyZWN0bHkgd2l0aG91dCBwcmljaW5nQXR0cmlidXRlcycsICgpID0+IHtcbiAgICAgICAgc2VydmljZVVuZGVyVGVzdC5lZGl0TGluZUl0ZW0oMSwgeyBpZDogJzEyMycgfSwgeyBhdHRyaWJ1dGVzOiB7IERpc3RyaWJ1dGlvbjogJ09ubGluZSBTdHJlYW1pbmcnIH0gfSk7XG5cbiAgICAgICAgZXhwZWN0KG1vY2tBcGlTZXJ2aWNlLnB1dCkudG9IYXZlQmVlbkNhbGxlZFdpdGhBcGkoQXBpLk9yZGVycyk7XG4gICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoRW5kcG9pbnQoJ3F1b3RlLzEvdXBkYXRlL2xpbmVJdGVtLzEyMycpO1xuICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aEJvZHkoe1xuICAgICAgICAgIGlkOiAnMTIzJyxcbiAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICBEaXN0cmlidXRpb246ICdPbmxpbmUgU3RyZWFtaW5nJ1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoUGFyYW1ldGVycyh7IHJlZ2lvbjogJ0FBQScgfSk7XG4gICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoTG9hZGluZyh0cnVlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ2FkZEFzc2V0VG9Qcm9qZWN0SW5RdW90ZSgpJywgKCkgPT4ge1xuICAgICAgbGV0IHNuYWNrYmFyU3B5OiBqYXNtaW5lLlNweTtcblxuXG4gICAgICBpdCgnc2hvdWxkIGNhbGwgdGhlIEFQSSBzZXJ2aWNlIGNvcnJlY3RseScsICgpID0+IHtcbiAgICAgICAgc2VydmljZVVuZGVyVGVzdC5hZGRBc3NldFRvUHJvamVjdEluUXVvdGUoMSwgWydwcm9qZWN0MScsICdwcm9qZWN0MiddLCB7XG4gICAgICAgICAgbGluZUl0ZW06IHsgaWQ6ICcxMjMnLCBhc3NldDogeyBhc3NldElkOiA0NTYgfSB9LCBhdHRyaWJ1dGVzOiB7IERpc3RyaWJ1dGlvbjogJ09ubGluZSBTdHJlYW1pbmcnIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZXhwZWN0KG1vY2tBcGlTZXJ2aWNlLnB1dCkudG9IYXZlQmVlbkNhbGxlZFdpdGhBcGkoQXBpLk9yZGVycyk7XG4gICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoRW5kcG9pbnQoJ3F1b3RlLzEvYXNzZXQvbGluZUl0ZW0nKTtcbiAgICAgICAgZXhwZWN0KG1vY2tBcGlTZXJ2aWNlLnB1dCkudG9IYXZlQmVlbkNhbGxlZFdpdGhCb2R5KHtcbiAgICAgICAgICBsaW5lSXRlbTogeyBpZDogJzEyMycsIGFzc2V0OiB7IGFzc2V0SWQ6IDQ1NiwgdGltZVN0YXJ0OiAtMSwgdGltZUVuZDogLTIgfSB9LFxuICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgIERpc3RyaWJ1dGlvbjogJ09ubGluZSBTdHJlYW1pbmcnXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgZXhwZWN0KG1vY2tBcGlTZXJ2aWNlLnB1dCkudG9IYXZlQmVlbkNhbGxlZFdpdGhQYXJhbWV0ZXJzKHtcbiAgICAgICAgICBwcm9qZWN0TmFtZTogJ3Byb2plY3QyJyxcbiAgICAgICAgICByZWdpb246ICdBQUEnXG4gICAgICAgIH0pO1xuICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aExvYWRpbmcodHJ1ZSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCdhZGRQcm9qZWN0KCknLCAoKSA9PiB7XG4gICAgICBpdCgnY2FsbHMgdGhlIEFQSSBzZXJ2aWNlIGNvcnJlY3RseScsICgpID0+IHtcbiAgICAgICAgc2VydmljZVVuZGVyVGVzdC5hZGRQcm9qZWN0KDEpO1xuXG4gICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5wb3N0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aEFwaShBcGkuT3JkZXJzKTtcbiAgICAgICAgZXhwZWN0KG1vY2tBcGlTZXJ2aWNlLnBvc3QpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoRW5kcG9pbnQoJ3F1b3RlLzEvcHJvamVjdCcpO1xuICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UucG9zdCkudG9IYXZlQmVlbkNhbGxlZFdpdGhMb2FkaW5nKHRydWUpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgncmVtb3ZlUHJvamVjdCgpJywgKCkgPT4ge1xuICAgICAgaXQoJ3Nob3VsZCBjYWxsIHRoZSBBUEkgc2VydmljZSBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgICAgIHNlcnZpY2VVbmRlclRlc3QucmVtb3ZlUHJvamVjdCgxLCAxMjMpO1xuXG4gICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5kZWxldGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoQXBpKEFwaS5PcmRlcnMpO1xuICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UuZGVsZXRlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aEVuZHBvaW50KCdxdW90ZS8xL3Byb2plY3QvMTIzJyk7XG4gICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5kZWxldGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoTG9hZGluZyh0cnVlKTtcbiAgICAgIH0pO1xuXG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgndXBkYXRlUHJvamVjdCgpJywgKCkgPT4ge1xuICAgICAgaXQoJ2NhbGwgdGhlIEFQSSBzZXJ2aWNlIGNvcnJlY3RseScsICgpID0+IHtcbiAgICAgICAgc2VydmljZVVuZGVyVGVzdC51cGRhdGVQcm9qZWN0KDEsIHsgbmFtZTogJ05ldyBQcm9qZWN0IE5hbWUnIH0gYXMgYW55KTtcblxuICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aEFwaShBcGkuT3JkZXJzKTtcbiAgICAgICAgZXhwZWN0KG1vY2tBcGlTZXJ2aWNlLnB1dCkudG9IYXZlQmVlbkNhbGxlZFdpdGhFbmRwb2ludCgncXVvdGUvMS9wcm9qZWN0Jyk7XG4gICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoQm9keSh7IG5hbWU6ICdOZXcgUHJvamVjdCBOYW1lJyB9KTtcbiAgICAgICAgZXhwZWN0KG1vY2tBcGlTZXJ2aWNlLnB1dCkudG9IYXZlQmVlbkNhbGxlZFdpdGhMb2FkaW5nKHRydWUpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnbW92ZUxpbmVJdGVtKCknLCAoKSA9PiB7XG4gICAgICBpdCgnY2FsbCB0aGUgQVBJIHNlcnZpY2UgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgICBzZXJ2aWNlVW5kZXJUZXN0Lm1vdmVMaW5lSXRlbSgxLCB7IGlkOiAnMTIzJyB9IGFzIGFueSwgeyBpZDogJzQ1NicgfSBhcyBhbnkpO1xuXG4gICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoQXBpKEFwaS5PcmRlcnMpO1xuICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aEVuZHBvaW50KCdxdW90ZS8xL21vdmUvbGluZUl0ZW0nKTtcbiAgICAgICAgZXhwZWN0KG1vY2tBcGlTZXJ2aWNlLnB1dCkudG9IYXZlQmVlbkNhbGxlZFdpdGhQYXJhbWV0ZXJzKHsgbGluZUl0ZW1JZDogJzQ1NicsIHByb2plY3RJZDogJzEyMycgfSk7XG4gICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoTG9hZGluZyh0cnVlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ2Nsb25lTGluZUl0ZW0oKScsICgpID0+IHtcbiAgICAgIGl0KCdzaG91bGQgY2FsbCB0aGUgQVBJIHNlcnZpY2UgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgICBzZXJ2aWNlVW5kZXJUZXN0LmNsb25lTGluZUl0ZW0oMSwgeyBpZDogJzEyMycgfSk7XG5cbiAgICAgICAgZXhwZWN0KG1vY2tBcGlTZXJ2aWNlLnB1dCkudG9IYXZlQmVlbkNhbGxlZFdpdGhBcGkoQXBpLk9yZGVycyk7XG4gICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoRW5kcG9pbnQoJ3F1b3RlLzEvY2xvbmUvbGluZUl0ZW0nKTtcbiAgICAgICAgZXhwZWN0KG1vY2tBcGlTZXJ2aWNlLnB1dCkudG9IYXZlQmVlbkNhbGxlZFdpdGhQYXJhbWV0ZXJzKHsgbGluZUl0ZW1JZDogJzEyMycgfSk7XG4gICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoTG9hZGluZyh0cnVlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ2VkaXRMaW5lSXRlbU1hcmtlcnMoKScsICgpID0+IHtcbiAgICAgIGl0KCdzaG91bGQgY2FsbCB0aGUgQVBJIHNlcnZpY2UgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgICBzZXJ2aWNlVW5kZXJUZXN0LmVkaXRMaW5lSXRlbU1hcmtlcnMoMSxcbiAgICAgICAgICB7IGlkOiAnMTIzJywgYXNzZXQ6IHsgdGVzdDogJ2Fzc2V0JyB9IH0gYXMgYW55LFxuICAgICAgICAgIHsgaW46IG5ldyBGcmFtZSgzKSwgb3V0OiBuZXcgRnJhbWUoMjUpIH1cbiAgICAgICAgKTtcbiAgICAgICAgZXhwZWN0KG1vY2tBcGlTZXJ2aWNlLnB1dCkudG9IYXZlQmVlbkNhbGxlZFdpdGhBcGkoQXBpLk9yZGVycyk7XG4gICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoRW5kcG9pbnQoYHF1b3RlLzEvdXBkYXRlL2xpbmVJdGVtLzEyM2ApO1xuICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aFBhcmFtZXRlcnMoeyByZWdpb246ICdBQUEnIH0pO1xuICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aEJvZHkoe1xuICAgICAgICAgIGlkOiAnMTIzJyxcbiAgICAgICAgICBhc3NldDoge1xuICAgICAgICAgICAgdGVzdDogJ2Fzc2V0JyxcbiAgICAgICAgICAgIHRpbWVTdGFydDogbnVsbCxcbiAgICAgICAgICAgIHRpbWVFbmQ6IG51bGxcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aExvYWRpbmcodHJ1ZSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCd1cGRhdGVQcm9qZWN0UHJpY2VBdHRyaWJ1dGVzKCknLCAoKSA9PiB7XG4gICAgICBpdCgnc2hvdWxkIGNhbGwgdGhlIEFQSSBzZXJ2aWNlIGNvcnJlY3RseScsICgpID0+IHtcbiAgICAgICAgc2VydmljZVVuZGVyVGVzdC51cGRhdGVQcm9qZWN0UHJpY2VBdHRyaWJ1dGVzKDEsXG4gICAgICAgICAgW3sgcHJpY2VBdHRyaWJ1dGVOYW1lOiAnRGlzdHJpYnV0aW9uJywgc2VsZWN0ZWRBdHRyaWJ1dGVWYWx1ZTogJ09ubGluZSBTdHJlYW1pbmcnIH1dIGFzIGFueSxcbiAgICAgICAgICB7IGlkOiAnMTIzJywgbmFtZTogJ1Byb2plY3QgQScsIGNsaWVudE5hbWU6ICdSb3NzIEVkZm9ydCcsIHN1YnRvdGFsOiAxMDAgfVxuICAgICAgICApO1xuXG4gICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoQXBpKEFwaS5PcmRlcnMpO1xuICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aEVuZHBvaW50KCdxdW90ZS8xL3Byb2plY3QvcHJpY2VBdHRyaWJ1dGVzLzEyMycpO1xuICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aEJvZHkoXG4gICAgICAgICAgW3sgcHJpY2VBdHRyaWJ1dGVOYW1lOiAnRGlzdHJpYnV0aW9uJywgc2VsZWN0ZWRBdHRyaWJ1dGVWYWx1ZTogJ09ubGluZSBTdHJlYW1pbmcnIH1dXG4gICAgICAgICk7XG4gICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoTG9hZGluZyh0cnVlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ2FkZE5vdGUoKScsICgpID0+IHtcbiAgICAgIGl0KCdyZXBsYWNlcyB0aGUgZmlyc3Qgbm90ZSBpZiB0aGUgZmllbGQgYWxyZWFkeSBleGlzdHMnLCAoKSA9PiB7XG4gICAgICAgIHNlcnZpY2VVbmRlclRlc3QuYWRkTm90ZSgxMTEsICdzb21lIG5vdGUnLCB7IGlkOiAnYWJjLTEyMycsIG5vdGVzOiBbeyBub3RlczogWydub3RlJ10gfV0gfSk7XG5cbiAgICAgICAgZXhwZWN0KG1vY2tBcGlTZXJ2aWNlLnB1dCkudG9IYXZlQmVlbkNhbGxlZFdpdGhBcGkoQXBpLk9yZGVycyk7XG4gICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoRW5kcG9pbnQoJ3F1b3RlLzExMS91cGRhdGUvbGluZUl0ZW0vYWJjLTEyMycpO1xuICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aEJvZHkoeyBpZDogJ2FiYy0xMjMnLCBub3RlczogW3sgbm90ZXM6IFsnc29tZSBub3RlJ10gfV0gfSk7XG4gICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoTG9hZGluZyh0cnVlKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnYWRkcyB0aGUgXFwnbm90ZXNcXCcgaWYgdGhlIGZpZWxkIGRvZXNuXFwndCBleGlzdHMnLCAoKSA9PiB7XG4gICAgICAgIHNlcnZpY2VVbmRlclRlc3QuYWRkTm90ZSgxMTEsICdzb21lIG5vdGUnLCB7IGlkOiAnYWJjLTEyMycgfSk7XG5cbiAgICAgICAgZXhwZWN0KG1vY2tBcGlTZXJ2aWNlLnB1dCkudG9IYXZlQmVlbkNhbGxlZFdpdGhBcGkoQXBpLk9yZGVycyk7XG4gICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoRW5kcG9pbnQoJ3F1b3RlLzExMS91cGRhdGUvbGluZUl0ZW0vYWJjLTEyMycpO1xuICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aEJvZHkoeyBpZDogJ2FiYy0xMjMnLCBub3RlczogW3sgbm90ZXM6IFsnc29tZSBub3RlJ10gfV0gfSk7XG4gICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoTG9hZGluZyh0cnVlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ3JlbW92ZU5vdGVGcm9tKCknLCAoKSA9PiB7XG4gICAgICBpdCgnY2FsbHMgdGhlIGFwaVNlcnZpY2UgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgICBzZXJ2aWNlVW5kZXJUZXN0LnJlbW92ZU5vdGUoMTExLCB7IGlkOiAnYWJjLTEyMycsIHNvbWU6ICdsaW5lSXRlbScsIG5vdGVzOiBbeyBub3RlczogWydzb21lIG5vdGUnXSB9XSB9IGFzIGFueSk7XG5cbiAgICAgICAgZXhwZWN0KG1vY2tBcGlTZXJ2aWNlLnB1dCkudG9IYXZlQmVlbkNhbGxlZFdpdGhBcGkoQXBpLk9yZGVycyk7XG4gICAgICAgIGV4cGVjdChtb2NrQXBpU2VydmljZS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoRW5kcG9pbnQoJ3F1b3RlLzExMS91cGRhdGUvbGluZUl0ZW0vYWJjLTEyMycpO1xuICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aEJvZHkoeyBpZDogJ2FiYy0xMjMnLCBzb21lOiAnbGluZUl0ZW0nIH0pO1xuICAgICAgICBleHBlY3QobW9ja0FwaVNlcnZpY2UucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aExvYWRpbmcodHJ1ZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59XG5cblxuXG4vLyBpbXBvcnQgeyBRdW90ZUVkaXRTZXJ2aWNlIH0gZnJvbSAnLi9xdW90ZS1lZGl0LnNlcnZpY2UnO1xuLy8gaW1wb3J0IHsgTW9ja0FwaVNlcnZpY2UsIG1vY2tBcGlNYXRjaGVycyB9IGZyb20gJy4uL21vY2tzL21vY2stYXBpLnNlcnZpY2UnO1xuLy8gaW1wb3J0IHsgQXBpIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9hcGkuaW50ZXJmYWNlJztcbi8vIGltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzL09ic2VydmFibGUnO1xuLy8gaW1wb3J0IHsgRnJhbWUgfSBmcm9tICcuLi9tb2R1bGVzL3dhemVlLWZyYW1lLWZvcm1hdHRlci9pbmRleCc7XG4vLyBpbXBvcnQgeyBDb21tb24gfSBmcm9tICcuLi91dGlsaXRpZXMvY29tbW9uLmZ1bmN0aW9ucyc7XG4vLyBpbXBvcnQgeyBNb2NrQXBwU3RvcmUgfSBmcm9tICcuLi8uLi9zdG9yZS9zcGVjLWhlbHBlcnMvbW9jay1hcHAuc3RvcmUnO1xuXG4vLyBleHBvcnQgZnVuY3Rpb24gbWFpbigpIHtcbi8vICAgZGVzY3JpYmUoJ1F1b3RlIEVkaXQgU2VydmljZScsICgpID0+IHtcbi8vICAgICBsZXQgc2VydmljZVVuZGVyVGVzdDogUXVvdGVFZGl0U2VydmljZSwgbW9ja0FwaTogTW9ja0FwaVNlcnZpY2UsIG1vY2tTdG9yZTogTW9ja0FwcFN0b3JlLCBtb2NrRmVlQ29uZmlnU3RvcmU6IGFueSxcbi8vICAgICAgIG1vY2tSb3V0ZXI6IGFueSwgcXVvdGVMb2FkU3VjY2Vzc1NweTogamFzbWluZS5TcHk7XG5cbi8vICAgICBjb25zdCBtb2NrU3RhdGU6IGFueSA9IHsgZGF0YTogeyBpZDogMywgb3duZXJVc2VySWQ6IDEwLCB0b3RhbDogOTAsIHN1YlRvdGFsOiAxMDAsIHByb2plY3RzOiBbeyBuYW1lOiAnUHJvamVjdCBBJyB9XSB9IH07XG5cbi8vICAgICBiZWZvcmVFYWNoKCgpID0+IHtcbi8vICAgICAgIG1vY2tBcGkgPSBuZXcgTW9ja0FwaVNlcnZpY2UoKTtcbi8vICAgICAgIG1vY2tTdG9yZSA9IG5ldyBNb2NrQXBwU3RvcmUoKTtcbi8vICAgICAgIG1vY2tTdG9yZS5jcmVhdGVTdGF0ZVNlY3Rpb24oJ3F1b3RlRWRpdCcsIG1vY2tTdGF0ZSk7XG4vLyAgICAgICBxdW90ZUxvYWRTdWNjZXNzU3B5ID0gbW9ja1N0b3JlLmNyZWF0ZUFjdGlvbkZhY3RvcnlNZXRob2QoJ3F1b3RlRWRpdCcsICdsb2FkU3VjY2VzcycpO1xuLy8gICAgICAgbW9ja0ZlZUNvbmZpZ1N0b3JlID0ge307XG4vLyAgICAgICBqYXNtaW5lLmFkZE1hdGNoZXJzKG1vY2tBcGlNYXRjaGVycyk7XG4vLyAgICAgICBtb2NrUm91dGVyID0geyBuYXZpZ2F0ZTogamFzbWluZS5jcmVhdGVTcHkoJ25hdmlnYXRlJykgfTtcblxuLy8gICAgICAgc2VydmljZVVuZGVyVGVzdCA9IG5ldyBRdW90ZUVkaXRTZXJ2aWNlKG1vY2tTdG9yZSwgbW9ja0ZlZUNvbmZpZ1N0b3JlLCBtb2NrQXBpLmluamVjdG9yKTtcbi8vICAgICB9KTtcblxuLy8gICAgIGRlc2NyaWJlKCdTdG9yZSBBY2Nlc3NvcnMnLCAoKSA9PiB7XG4vLyAgICAgICBkZXNjcmliZSgnZ2V0IGRhdGEnLCAoKSA9PiB7XG4vLyAgICAgICAgIGl0KCdzaG91bGQgcmV0dXJuIGFuIG9ic2VydmFibGUgb2YgdGhlIGRhdGEgZnJvbSB0aGUgc3RvcmUnLCAoKSA9PiB7XG4vLyAgICAgICAgICAgc2VydmljZVVuZGVyVGVzdC5kYXRhLnN1YnNjcmliZShkID0+IGV4cGVjdChkKS50b0VxdWFsKG1vY2tTdGF0ZSkpO1xuLy8gICAgICAgICB9KTtcbi8vICAgICAgIH0pO1xuXG4vLyAgICAgICBkZXNjcmliZSgnZ2V0IHN0YXRlJywgKCkgPT4ge1xuLy8gICAgICAgICBpdCgnc2hvbGQgcmV0dXJuIHRoZSBzdGF0ZSBmcm9tIHRoZSBzdG9yZScsICgpID0+IHtcbi8vICAgICAgICAgICBleHBlY3Qoc2VydmljZVVuZGVyVGVzdC5zdGF0ZSkudG9FcXVhbChtb2NrU3RhdGUpO1xuLy8gICAgICAgICB9KTtcbi8vICAgICAgIH0pO1xuXG4vLyAgICAgICBkZXNjcmliZSgnZ2V0IHF1b3RlJywgKCkgPT4ge1xuLy8gICAgICAgICBpdCgnc2hvdWxkIHJldHVybiBhbiBvYnNlcnZhYmxlIG9mIHRoZSBxdW90ZSBpbiB0aGUgc3RvcmUnLCAoKSA9PiB7XG4vLyAgICAgICAgICAgc2VydmljZVVuZGVyVGVzdC5xdW90ZS5zdWJzY3JpYmUoZCA9PiBleHBlY3QoZCkudG9FcXVhbChtb2NrU3RhdGUuZGF0YSkpO1xuLy8gICAgICAgICB9KTtcbi8vICAgICAgIH0pO1xuXG4vLyAgICAgICBkZXNjcmliZSgnZ2V0IHByb2plY3RzJywgKCkgPT4ge1xuLy8gICAgICAgICBpdCgnc2hvdWxkIHJldHVybiBhbiBvYnNlcnZhYmxlIG9mIHRoZSBwcm9qZWN0cyBpbiB0aGUgc3RvcmUnLCAoKSA9PiB7XG4vLyAgICAgICAgICAgc2VydmljZVVuZGVyVGVzdC5wcm9qZWN0cy5zdWJzY3JpYmUoZCA9PiBleHBlY3QoZCkudG9FcXVhbChtb2NrU3RhdGUuZGF0YS5wcm9qZWN0cykpO1xuLy8gICAgICAgICB9KTtcbi8vICAgICAgIH0pO1xuXG4vLyAgICAgICBkZXNjcmliZSgnZ2V0IHRvdGFsJywgKCkgPT4ge1xuLy8gICAgICAgICBpdCgnc2hvbGQgcmV0dXJuIGFuIG9ic2VydmFibGUgb2YgdGhlIHRvdGFsIGluIHRoZSBzdG9yZScsICgpID0+IHtcbi8vICAgICAgICAgICBzZXJ2aWNlVW5kZXJUZXN0LnRvdGFsLnN1YnNjcmliZShkID0+IGV4cGVjdChkKS50b0JlKDkwKSk7XG4vLyAgICAgICAgIH0pO1xuLy8gICAgICAgfSk7XG5cbi8vICAgICAgIGRlc2NyaWJlKCdnZXQgc3ViVG90YWwnLCAoKSA9PiB7XG4vLyAgICAgICAgIGl0KCdzaG9sZCByZXR1cm4gYW4gb2JzZXJ2YWJsZSBvZiB0aGUgc3ViVG90YWwgaW4gdGhlIHN0b3JlJywgKCkgPT4ge1xuLy8gICAgICAgICAgIHNlcnZpY2VVbmRlclRlc3Quc3ViVG90YWwuc3Vic2NyaWJlKGQgPT4gZXhwZWN0KGQpLnRvQmUoMTAwKSk7XG4vLyAgICAgICAgIH0pO1xuLy8gICAgICAgfSk7XG5cbi8vICAgICAgIGRlc2NyaWJlKCdnZXQgaGFzQXNzZXRzJywgKCkgPT4ge1xuLy8gICAgICAgICBpdCgnc2hvdWxkIHJldHVybiBmYWxzZSBpZiB0aGUgcXVvdGUgZG9lcyBub3QgaGF2ZSB0aGUgaXRlbUNvdW50IHByb3BlcnR5JywgKCkgPT4ge1xuLy8gICAgICAgICAgIG1vY2tTdG9yZS5jcmVhdGVTdGF0ZVNlY3Rpb24oJ3F1b3RlRWRpdCcsIHsgZGF0YToge30gfSk7XG5cbi8vICAgICAgICAgICBuZXcgUXVvdGVFZGl0U2VydmljZShtb2NrU3RvcmUsIG51bGwsIG51bGwpLmhhc0Fzc2V0cy5zdWJzY3JpYmUoZCA9PiBleHBlY3QoZCkudG9CZShmYWxzZSkpO1xuLy8gICAgICAgICB9KTtcblxuLy8gICAgICAgICBpdCgnc2hvdWxkIHJldHVybiBmYWxzZSBpZiB0aGUgcXVvdGUgaXRlbUNvdW50IGlzIDAnLCAoKSA9PiB7XG4vLyAgICAgICAgICAgbW9ja1N0b3JlLmNyZWF0ZVN0YXRlU2VjdGlvbigncXVvdGVFZGl0JywgeyBkYXRhOiB7IGl0ZW1Db3VudDogMCB9IH0pO1xuXG4vLyAgICAgICAgICAgbmV3IFF1b3RlRWRpdFNlcnZpY2UobW9ja1N0b3JlLCBudWxsLCBudWxsKS5oYXNBc3NldHMuc3Vic2NyaWJlKGQgPT4gZXhwZWN0KGQpLnRvQmUoZmFsc2UpKTtcbi8vICAgICAgICAgfSk7XG5cbi8vICAgICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gdHJ1ZSBpZiB0aGUgcXVvdGUgaXRlbUNvdW50IGlzIGdyZWF0ZXIgdGhhbiAwJywgKCkgPT4ge1xuLy8gICAgICAgICAgIG1vY2tTdG9yZS5jcmVhdGVTdGF0ZVNlY3Rpb24oJ3F1b3RlRWRpdCcsIHsgZGF0YTogeyBpdGVtQ291bnQ6IDEgfSB9KTtcblxuLy8gICAgICAgICAgIG5ldyBRdW90ZUVkaXRTZXJ2aWNlKG1vY2tTdG9yZSwgbnVsbCwgbnVsbCkuaGFzQXNzZXRzLnN1YnNjcmliZShkID0+IGV4cGVjdChkKS50b0JlKHRydWUpKTtcbi8vICAgICAgICAgfSk7XG4vLyAgICAgICB9KTtcblxuLy8gICAgICAgZGVzY3JpYmUoJ2dldCBxdW90ZUlkJywgKCkgPT4ge1xuLy8gICAgICAgICBpdCgnc2hvdWxkIHJldHVybiB0aGUgcXVvdGVJZCcsICgpID0+IHtcbi8vICAgICAgICAgICBleHBlY3Qoc2VydmljZVVuZGVyVGVzdC5xdW90ZUlkKS50b0JlKDMpO1xuLy8gICAgICAgICB9KTtcbi8vICAgICAgIH0pO1xuXG4vLyAgICAgICBkZXNjcmliZSgnaGFzUHJvcGVydHknLCAoKSA9PiB7XG4vLyAgICAgICAgIGl0KCdzaG91bGQgcmV0dXJuIHRoZSB2YWx1ZSBvZiB0aGUgcHJvcGVydHkgaWYgdGhlIHByb3BlcnR5IGV4aXN0cycsICgpID0+IHtcbi8vICAgICAgICAgICBzZXJ2aWNlVW5kZXJUZXN0Lmhhc1Byb3BlcnR5KCd0b3RhbCcpLnN1YnNjcmliZShkID0+IGV4cGVjdChkKS50b0JlKDkwKSk7XG4vLyAgICAgICAgIH0pO1xuXG4vLyAgICAgICAgIGl0KCdzaG91bGQgcmV0dXJuIHRoZSB1bmRlZmluZWQgaWYgdGhlIHByb3BlcnR5IGRvZXNudCBleGlzdCcsICgpID0+IHtcbi8vICAgICAgICAgICBzZXJ2aWNlVW5kZXJUZXN0Lmhhc1Byb3BlcnR5KCdib2d1c1Byb3BlcnR5Jykuc3Vic2NyaWJlKGQgPT4gZXhwZWN0KGQpLnRvQmUodW5kZWZpbmVkKSk7XG4vLyAgICAgICAgIH0pO1xuLy8gICAgICAgfSk7XG4vLyAgICAgfSk7XG5cbi8vICAgICBkZXNjcmliZSgnYWRkUHJvamVjdCgpJywgKCkgPT4ge1xuLy8gICAgICAgaXQoJ2NhbGxzIHRoZSBBUEkgc2VydmljZSBjb3JyZWN0bHknLCAoKSA9PiB7XG4vLyAgICAgICAgIHNlcnZpY2VVbmRlclRlc3QuYWRkUHJvamVjdCgpO1xuXG4vLyAgICAgICAgIGV4cGVjdChtb2NrQXBpLnBvc3QpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoQXBpKEFwaS5PcmRlcnMpO1xuLy8gICAgICAgICBleHBlY3QobW9ja0FwaS5wb3N0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aEVuZHBvaW50KCdxdW90ZS8zL3Byb2plY3QnKTtcbi8vICAgICAgICAgZXhwZWN0KG1vY2tBcGkucG9zdCkudG9IYXZlQmVlbkNhbGxlZFdpdGhMb2FkaW5nKHRydWUpO1xuLy8gICAgICAgfSk7XG5cbi8vICAgICAgIGl0KCdyZXBsYWNlcyB0aGUgcXVvdGUgc3RvcmUgd2l0aCB0aGUgcmVzcG9uc2UnLCAoKSA9PiB7XG4vLyAgICAgICAgIHNlcnZpY2VVbmRlclRlc3QuYWRkUHJvamVjdCgpO1xuXG4vLyAgICAgICAgIGV4cGVjdChxdW90ZUxvYWRTdWNjZXNzU3B5KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChtb2NrQXBpLnBvc3RSZXNwb25zZSk7XG4vLyAgICAgICB9KTtcbi8vICAgICB9KTtcblxuLy8gICAgIGRlc2NyaWJlKCdjcmVhdGVRdW90ZSgpJywgKCkgPT4ge1xuLy8gICAgICAgaXQoJ2NhbGxzIHRoZSBBUEkgc2VydmljZSBjb3JyZWN0bHknLCAoKSA9PiB7XG4vLyAgICAgICAgIHNlcnZpY2VVbmRlclRlc3QuY3JlYXRlUXVvdGUoKS5zdWJzY3JpYmUoKCkgPT4ge1xuLy8gICAgICAgICAgIGV4cGVjdChtb2NrQXBpLnBvc3QpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoQXBpKEFwaS5PcmRlcnMpO1xuLy8gICAgICAgICAgIGV4cGVjdChtb2NrQXBpLnBvc3QpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoRW5kcG9pbnQoJ3F1b3RlJyk7XG4vLyAgICAgICAgICAgZXhwZWN0KG1vY2tBcGkucG9zdCkudG9IYXZlQmVlbkNhbGxlZFdpdGhMb2FkaW5nKHRydWUpO1xuLy8gICAgICAgICB9KTtcbi8vICAgICAgIH0pO1xuXG4vLyAgICAgICBpdCgncmVwbGFjZXMgdGhlIHF1b3RlIHN0b3JlIHdpdGggdGhlIHJlc3BvbnNlIG9mIHRoZSBuZXdseSBjcmVhdGVkIHF1b3RlJywgKCkgPT4ge1xuLy8gICAgICAgICBzZXJ2aWNlVW5kZXJUZXN0LmNyZWF0ZVF1b3RlKCkuc3Vic2NyaWJlKCgpID0+IHtcbi8vICAgICAgICAgICBleHBlY3QocXVvdGVMb2FkU3VjY2Vzc1NweSkudG9IYXZlQmVlbkNhbGxlZFdpdGgobW9ja0FwaS5wb3N0UmVzcG9uc2UpO1xuLy8gICAgICAgICB9KTtcbi8vICAgICAgIH0pO1xuLy8gICAgIH0pO1xuXG4vLyAgICAgZGVzY3JpYmUoJ2Nsb25lUXVvdGUoKScsICgpID0+IHtcbi8vICAgICAgIGl0KGBTaG91bGQgY2FsbCB0aGUgZGVsZXRlUHJvcGVydGllc0Zyb21PYmplY3QoKSBtZXRob2Qgd2l0aCBhIHNlcGVyYXRlIGNsb25lZCB2ZXJzaW9uXG4vLyAgICAgICBvZiB0aGUgY3VycmVudCBxdW90ZWAsICgpID0+IHtcbi8vICAgICAgICAgICBzcHlPbihDb21tb24sICdkZWxldGVQcm9wZXJ0aWVzRnJvbU9iamVjdCcpO1xuLy8gICAgICAgICAgIHNlcnZpY2VVbmRlclRlc3QuY2xvbmVRdW90ZShtb2NrU3RhdGUpO1xuLy8gICAgICAgICAgIGV4cGVjdChDb21tb24uZGVsZXRlUHJvcGVydGllc0Zyb21PYmplY3QpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuLy8gICAgICAgICAgICAgbW9ja1N0YXRlLFxuLy8gICAgICAgICAgICAgWydpZCcsICdjcmVhdGVkVXNlcklkJywgJ293bmVyVXNlcklkJywgJ2NyZWF0ZWRPbicsICdsYXN0VXBkYXRlZCcsICdleHBpcmF0aW9uRGF0ZScsICdxdW90ZVN0YXR1cyddXG4vLyAgICAgICAgICAgKTtcbi8vICAgICAgICAgfSk7XG4vLyAgICAgICBpdCgnY2FsbHMgdGhlIEFQSSBzZXJ2aWNlIGNvcnJlY3RseScsICgpID0+IHtcbi8vICAgICAgICAgc2VydmljZVVuZGVyVGVzdC5jbG9uZVF1b3RlKG1vY2tTdGF0ZSkuc3Vic2NyaWJlKCgpID0+IHtcbi8vICAgICAgICAgICBleHBlY3QobW9ja0FwaS5wb3N0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aEFwaShBcGkuT3JkZXJzKTtcbi8vICAgICAgICAgICBleHBlY3QobW9ja0FwaS5wb3N0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aEVuZHBvaW50KCdxdW90ZScpO1xuLy8gICAgICAgICAgIGV4cGVjdChtb2NrQXBpLnBvc3QpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoTG9hZGluZyh0cnVlKTtcbi8vICAgICAgICAgICBleHBlY3QobW9ja0FwaS5wb3N0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aEJvZHkoe1xuLy8gICAgICAgICAgICAgZGF0YToge1xuLy8gICAgICAgICAgICAgICB0b3RhbDogOTAsXG4vLyAgICAgICAgICAgICAgIHN1YlRvdGFsOiAxMDAsXG4vLyAgICAgICAgICAgICAgIHByb2plY3RzOiBbeyBuYW1lOiAnUHJvamVjdCBBJyB9XVxuLy8gICAgICAgICAgICAgfVxuLy8gICAgICAgICAgIH0pO1xuLy8gICAgICAgICB9KTtcbi8vICAgICAgIH0pO1xuXG4vLyAgICAgICBpdCgncmVwbGFjZXMgdGhlIHF1b3RlIHN0b3JlIHdpdGggdGhlIHJlc3BvbnNlIG9mIHRoZSBuZXdseSBjcmVhdGVkIHF1b3RlJywgKCkgPT4ge1xuLy8gICAgICAgICBzZXJ2aWNlVW5kZXJUZXN0LmNsb25lUXVvdGUobW9ja1N0YXRlKS5zdWJzY3JpYmUoKCkgPT4ge1xuLy8gICAgICAgICAgIGV4cGVjdChxdW90ZUxvYWRTdWNjZXNzU3B5KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChtb2NrQXBpLnBvc3RSZXNwb25zZSk7XG4vLyAgICAgICAgIH0pO1xuLy8gICAgICAgfSk7XG4vLyAgICAgfSk7XG5cbi8vICAgICBkZXNjcmliZSgncmVtb3ZlUHJvamVjdCgpJywgKCkgPT4ge1xuLy8gICAgICAgaXQoJ3Nob3VsZCBjYWxsIHRoZSBBUEkgc2VydmljZSBjb3JyZWN0bHknLCAoKSA9PiB7XG4vLyAgICAgICAgIHNlcnZpY2VVbmRlclRlc3QucmVtb3ZlUHJvamVjdCh7IGlkOiAnMTIzJyB9IGFzIGFueSk7XG5cbi8vICAgICAgICAgZXhwZWN0KG1vY2tBcGkuZGVsZXRlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aEFwaShBcGkuT3JkZXJzKTtcbi8vICAgICAgICAgZXhwZWN0KG1vY2tBcGkuZGVsZXRlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aEVuZHBvaW50KCdxdW90ZS8zL3Byb2plY3QvMTIzJyk7XG4vLyAgICAgICAgIGV4cGVjdChtb2NrQXBpLmRlbGV0ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGhMb2FkaW5nKHRydWUpO1xuLy8gICAgICAgfSk7XG5cbi8vICAgICAgIGl0KCdyZXBsYWNlIHRoZSBxdW90ZSBzdG9yZSB3aXRoIHRoZSByZXNwb25zZScsICgpID0+IHtcbi8vICAgICAgICAgc2VydmljZVVuZGVyVGVzdC5yZW1vdmVQcm9qZWN0KHsgaWQ6ICcxMjMnIH0gYXMgYW55KTtcblxuLy8gICAgICAgICBleHBlY3QocXVvdGVMb2FkU3VjY2Vzc1NweSkudG9IYXZlQmVlbkNhbGxlZFdpdGgobW9ja0FwaS5kZWxldGVSZXNwb25zZSk7XG4vLyAgICAgICB9KTtcbi8vICAgICB9KTtcblxuLy8gICAgIGRlc2NyaWJlKCdhZGRBc3NldFRvUHJvamVjdEluUXVvdGUoKScsICgpID0+IHtcbi8vICAgICAgIGxldCBzbmFja2JhclNweTogamFzbWluZS5TcHk7XG5cbi8vICAgICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuLy8gICAgICAgICBzbmFja2JhclNweSA9IG1vY2tTdG9yZS5jcmVhdGVBY3Rpb25GYWN0b3J5TWV0aG9kKCdzbmFja2JhcicsICdkaXNwbGF5Jyk7XG4vLyAgICAgICB9KTtcblxuLy8gICAgICAgaXQoJ3Nob3VsZCBjYWxsIHRoZSBBUEkgc2VydmljZSBjb3JyZWN0bHknLCAoKSA9PiB7XG4vLyAgICAgICAgIHNlcnZpY2VVbmRlclRlc3QuYWRkQXNzZXRUb1Byb2plY3RJblF1b3RlKHtcbi8vICAgICAgICAgICBsaW5lSXRlbTogeyBpZDogJzEyMycsIGFzc2V0OiB7IGFzc2V0SWQ6IDQ1NiB9IH0sIGF0dHJpYnV0ZXM6IHsgRGlzdHJpYnV0aW9uOiAnT25saW5lIFN0cmVhbWluZycgfVxuLy8gICAgICAgICB9KTtcblxuLy8gICAgICAgICBleHBlY3QobW9ja0FwaS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoQXBpKEFwaS5PcmRlcnMpO1xuLy8gICAgICAgICBleHBlY3QobW9ja0FwaS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoRW5kcG9pbnQoJ3F1b3RlLzMvYXNzZXQvbGluZUl0ZW0nKTtcbi8vICAgICAgICAgZXhwZWN0KG1vY2tBcGkucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aEJvZHkoe1xuLy8gICAgICAgICAgIGxpbmVJdGVtOiB7IGlkOiAnMTIzJywgYXNzZXQ6IHsgYXNzZXRJZDogNDU2LCB0aW1lU3RhcnQ6IC0xLCB0aW1lRW5kOiAtMiB9IH0sXG4vLyAgICAgICAgICAgYXR0cmlidXRlczogW3sgcHJpY2VBdHRyaWJ1dGVOYW1lOiAnRGlzdHJpYnV0aW9uJywgc2VsZWN0ZWRBdHRyaWJ1dGVWYWx1ZTogJ09ubGluZSBTdHJlYW1pbmcnIH1dXG4vLyAgICAgICAgIH0pO1xuLy8gICAgICAgICBleHBlY3QobW9ja0FwaS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoUGFyYW1ldGVycyh7XG4vLyAgICAgICAgICAgcHJvamVjdE5hbWU6ICdQcm9qZWN0IEEnLFxuLy8gICAgICAgICAgIHJlZ2lvbjogJ0FBQSdcbi8vICAgICAgICAgfSk7XG4vLyAgICAgICAgIGV4cGVjdChtb2NrQXBpLnB1dCkudG9IYXZlQmVlbkNhbGxlZFdpdGhMb2FkaW5nKHRydWUpO1xuLy8gICAgICAgfSk7XG5cbi8vICAgICAgIGl0KCdzZW5kcyB0aW1lU3RhcnQgYW5kIHRpbWVFbmQgaWYgZGVmaW5lZCcsICgpID0+IHtcbi8vICAgICAgICAgc2VydmljZVVuZGVyVGVzdC5hZGRBc3NldFRvUHJvamVjdEluUXVvdGUoe1xuLy8gICAgICAgICAgIGxpbmVJdGVtOiB7IGlkOiAnMTIzJywgYXNzZXQ6IHsgYXNzZXRJZDogNDU2LCB0aW1lU3RhcnQ6IDMzLCB0aW1lRW5kOiA2NiB9IH0sXG4vLyAgICAgICAgICAgYXR0cmlidXRlczogeyBEaXN0cmlidXRpb246ICdPbmxpbmUgU3RyZWFtaW5nJyB9XG4vLyAgICAgICAgIH0pO1xuXG4vLyAgICAgICAgIGV4cGVjdChtb2NrQXBpLnB1dCkudG9IYXZlQmVlbkNhbGxlZFdpdGhCb2R5KHtcbi8vICAgICAgICAgICBsaW5lSXRlbTogeyBpZDogJzEyMycsIGFzc2V0OiB7IGFzc2V0SWQ6IDQ1NiwgdGltZVN0YXJ0OiAzMywgdGltZUVuZDogNjYgfSB9LFxuLy8gICAgICAgICAgIGF0dHJpYnV0ZXM6IFt7IHByaWNlQXR0cmlidXRlTmFtZTogJ0Rpc3RyaWJ1dGlvbicsIHNlbGVjdGVkQXR0cmlidXRlVmFsdWU6ICdPbmxpbmUgU3RyZWFtaW5nJyB9XVxuLy8gICAgICAgICB9KTtcbi8vICAgICAgIH0pO1xuXG4vLyAgICAgICBpdCgnc2VuZHMgdGltZVN0YXJ0IGFuZCB0aW1lRW5kIGlmIGRlZmluZWQgYXMgbWFya2VycycsICgpID0+IHtcbi8vICAgICAgICAgc2VydmljZVVuZGVyVGVzdC5hZGRBc3NldFRvUHJvamVjdEluUXVvdGUoe1xuLy8gICAgICAgICAgIGxpbmVJdGVtOiB7IGlkOiAnMTIzJywgYXNzZXQ6IHsgYXNzZXRJZDogNDU2IH0gfSxcbi8vICAgICAgICAgICBtYXJrZXJzOiB7IGluOiBuZXcgRnJhbWUoMzApLnNldEZyb21TZWNvbmRzKDEwKSwgb3V0OiBuZXcgRnJhbWUoMzApLnNldEZyb21TZWNvbmRzKDIwKSB9LFxuLy8gICAgICAgICAgIGF0dHJpYnV0ZXM6IHsgRGlzdHJpYnV0aW9uOiAnT25saW5lIFN0cmVhbWluZycgfVxuLy8gICAgICAgICB9KTtcblxuLy8gICAgICAgICBleHBlY3QobW9ja0FwaS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoQm9keSh7XG4vLyAgICAgICAgICAgbGluZUl0ZW06IHsgaWQ6ICcxMjMnLCBhc3NldDogeyBhc3NldElkOiA0NTYsIHRpbWVTdGFydDogMTAwMDAsIHRpbWVFbmQ6IDIwMDAwIH0gfSxcbi8vICAgICAgICAgICBhdHRyaWJ1dGVzOiBbeyBwcmljZUF0dHJpYnV0ZU5hbWU6ICdEaXN0cmlidXRpb24nLCBzZWxlY3RlZEF0dHJpYnV0ZVZhbHVlOiAnT25saW5lIFN0cmVhbWluZycgfV1cbi8vICAgICAgICAgfSk7XG4vLyAgICAgICB9KTtcblxuLy8gICAgICAgaXQoJ292ZXJyaWRlcyBhc3NldCB0aW1lU3RhcnQgYW5kIHRpbWVFbmQgd2l0aCBtYXJrZXJzIGlmIGJvdGggYXJlIGRlZmluZWQnLCAoKSA9PiB7XG4vLyAgICAgICAgIHNlcnZpY2VVbmRlclRlc3QuYWRkQXNzZXRUb1Byb2plY3RJblF1b3RlKHtcbi8vICAgICAgICAgICBsaW5lSXRlbTogeyBpZDogJzEyMycsIGFzc2V0OiB7IGFzc2V0SWQ6IDQ1NiwgdGltZVN0YXJ0OiAzMywgdGltZUVuZDogNjYgfSB9LFxuLy8gICAgICAgICAgIG1hcmtlcnM6IHsgaW46IG5ldyBGcmFtZSgzMCkuc2V0RnJvbVNlY29uZHMoMTApLCBvdXQ6IG5ldyBGcmFtZSgzMCkuc2V0RnJvbVNlY29uZHMoMjApIH0sXG4vLyAgICAgICAgICAgYXR0cmlidXRlczogeyBEaXN0cmlidXRpb246ICdPbmxpbmUgU3RyZWFtaW5nJyB9XG4vLyAgICAgICAgIH0pO1xuXG4vLyAgICAgICAgIGV4cGVjdChtb2NrQXBpLnB1dCkudG9IYXZlQmVlbkNhbGxlZFdpdGhCb2R5KHtcbi8vICAgICAgICAgICBsaW5lSXRlbTogeyBpZDogJzEyMycsIGFzc2V0OiB7IGFzc2V0SWQ6IDQ1NiwgdGltZVN0YXJ0OiAxMDAwMCwgdGltZUVuZDogMjAwMDAgfSB9LFxuLy8gICAgICAgICAgIGF0dHJpYnV0ZXM6IFt7IHByaWNlQXR0cmlidXRlTmFtZTogJ0Rpc3RyaWJ1dGlvbicsIHNlbGVjdGVkQXR0cmlidXRlVmFsdWU6ICdPbmxpbmUgU3RyZWFtaW5nJyB9XVxuLy8gICAgICAgICB9KTtcbi8vICAgICAgIH0pO1xuXG4vLyAgICAgICBpdCgncmVwbGFjZSB0aGUgcXVvdGUgc3RvcmUgd2l0aCB0aGUgcmVzcG9uc2UnLCAoKSA9PiB7XG4vLyAgICAgICAgIHNlcnZpY2VVbmRlclRlc3QuYWRkQXNzZXRUb1Byb2plY3RJblF1b3RlKHsgbGluZUl0ZW06IHsgaWQ6ICcxMjMnLCBhc3NldDogeyBhc3NldElkOiA0NTYgfSB9IH0pO1xuXG4vLyAgICAgICAgIGV4cGVjdChxdW90ZUxvYWRTdWNjZXNzU3B5KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChtb2NrQXBpLnB1dFJlc3BvbnNlKTtcbi8vICAgICAgIH0pO1xuXG4vLyAgICAgICBpdCgnZGlzcGxheXMgYSBzbmFja2JhciB3aXRoIHRoZSBleHBlY3RlZCBtZXNzYWdlJywgKCkgPT4ge1xuLy8gICAgICAgICBzZXJ2aWNlVW5kZXJUZXN0LmFkZEFzc2V0VG9Qcm9qZWN0SW5RdW90ZSh7IGxpbmVJdGVtOiB7IGlkOiAnMTIzJywgYXNzZXQ6IHsgYXNzZXRJZDogNDU2IH0gfSB9KTtcblxuLy8gICAgICAgICBleHBlY3Qoc25hY2tiYXJTcHkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdBU1NFVC5BRERfVE9fUVVPVEVfVE9BU1QnLCB7IGFzc2V0SWQ6IDQ1NiB9KTtcbi8vICAgICAgIH0pO1xuLy8gICAgIH0pO1xuXG4vLyAgICAgZGVzY3JpYmUoJ3VwZGF0ZVByb2plY3QoKScsICgpID0+IHtcbi8vICAgICAgIGl0KCdjYWxsIHRoZSBBUEkgc2VydmljZSBjb3JyZWN0bHknLCAoKSA9PiB7XG4vLyAgICAgICAgIHNlcnZpY2VVbmRlclRlc3QudXBkYXRlUHJvamVjdCh7IG5hbWU6ICdOZXcgUHJvamVjdCBOYW1lJyB9IGFzIGFueSk7XG5cbi8vICAgICAgICAgZXhwZWN0KG1vY2tBcGkucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aEFwaShBcGkuT3JkZXJzKTtcbi8vICAgICAgICAgZXhwZWN0KG1vY2tBcGkucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aEVuZHBvaW50KCdxdW90ZS8zL3Byb2plY3QnKTtcbi8vICAgICAgICAgZXhwZWN0KG1vY2tBcGkucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aEJvZHkoeyBuYW1lOiAnTmV3IFByb2plY3QgTmFtZScgfSk7XG4vLyAgICAgICAgIGV4cGVjdChtb2NrQXBpLnB1dCkudG9IYXZlQmVlbkNhbGxlZFdpdGhMb2FkaW5nKHRydWUpO1xuLy8gICAgICAgfSk7XG5cbi8vICAgICAgIGl0KCdyZXBsYWNlIHRoZSBxdW90ZSBzdG9yZSB3aXRoIHRoZSByZXNwb25zZScsICgpID0+IHtcbi8vICAgICAgICAgc2VydmljZVVuZGVyVGVzdC51cGRhdGVQcm9qZWN0KHsgbmFtZTogJ05ldyBQcm9qZWN0IE5hbWUnIH0gYXMgYW55KTtcblxuLy8gICAgICAgICBleHBlY3QocXVvdGVMb2FkU3VjY2Vzc1NweSkudG9IYXZlQmVlbkNhbGxlZFdpdGgobW9ja0FwaS5wdXRSZXNwb25zZSk7XG4vLyAgICAgICB9KTtcbi8vICAgICB9KTtcblxuLy8gICAgIGRlc2NyaWJlKCd1cGRhdGVQcm9qZWN0UHJpY2VBdHRyaWJ1dGVzKCknLCAoKSA9PiB7XG4vLyAgICAgICBpdCgnc2hvdWxkIGNhbGwgdGhlIEFQSSBzZXJ2aWNlIGNvcnJlY3RseScsICgpID0+IHtcbi8vICAgICAgICAgc2VydmljZVVuZGVyVGVzdC51cGRhdGVQcm9qZWN0UHJpY2VBdHRyaWJ1dGVzKFxuLy8gICAgICAgICAgIHsgcHJpY2VBdHRyaWJ1dGVOYW1lOiAnRGlzdHJpYnV0aW9uJywgc2VsZWN0ZWRBdHRyaWJ1dGVWYWx1ZTogJ09ubGluZSBTdHJlYW1pbmcnIH0sXG4vLyAgICAgICAgICAgeyBpZDogJzEyMycsIG5hbWU6ICdQcm9qZWN0IEEnLCBjbGllbnROYW1lOiAnUm9zcyBFZGZvcnQnLCBzdWJ0b3RhbDogMTAwIH1cbi8vICAgICAgICAgKTtcblxuLy8gICAgICAgICBleHBlY3QobW9ja0FwaS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoQXBpKEFwaS5PcmRlcnMpO1xuLy8gICAgICAgICBleHBlY3QobW9ja0FwaS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoRW5kcG9pbnQoJ3F1b3RlLzMvcHJvamVjdC9wcmljZUF0dHJpYnV0ZXMvMTIzJyk7XG4vLyAgICAgICAgIGV4cGVjdChtb2NrQXBpLnB1dCkudG9IYXZlQmVlbkNhbGxlZFdpdGhCb2R5KFxuLy8gICAgICAgICAgIHsgcHJpY2VBdHRyaWJ1dGVOYW1lOiAnRGlzdHJpYnV0aW9uJywgc2VsZWN0ZWRBdHRyaWJ1dGVWYWx1ZTogJ09ubGluZSBTdHJlYW1pbmcnIH1cbi8vICAgICAgICAgKTtcbi8vICAgICAgICAgZXhwZWN0KG1vY2tBcGkucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aExvYWRpbmcodHJ1ZSk7XG4vLyAgICAgICB9KTtcblxuLy8gICAgICAgaXQoJ3JlcGxhY2UgdGhlIHF1b3RlIHN0b3JlIHdpdGggdGhlIHJlc3BvbnNlJywgKCkgPT4ge1xuLy8gICAgICAgICBzZXJ2aWNlVW5kZXJUZXN0LnVwZGF0ZVByb2plY3RQcmljZUF0dHJpYnV0ZXMoXG4vLyAgICAgICAgICAgeyBwcmljZUF0dHJpYnV0ZU5hbWU6ICdEaXN0cmlidXRpb24nLCBzZWxlY3RlZEF0dHJpYnV0ZVZhbHVlOiAnT25saW5lIFN0cmVhbWluZycgfSxcbi8vICAgICAgICAgICB7IGlkOiAnMTIzJywgbmFtZTogJ1Byb2plY3QgQScsIGNsaWVudE5hbWU6ICdSb3NzIEVkZm9ydCcsIHN1YnRvdGFsOiAxMDAgfVxuLy8gICAgICAgICApO1xuXG4vLyAgICAgICAgIGV4cGVjdChxdW90ZUxvYWRTdWNjZXNzU3B5KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChtb2NrQXBpLnB1dFJlc3BvbnNlKTtcbi8vICAgICAgIH0pO1xuLy8gICAgIH0pO1xuXG4vLyAgICAgZGVzY3JpYmUoJ21vdmVMaW5lSXRlbVRvKCknLCAoKSA9PiB7XG4vLyAgICAgICBpdCgnY2FsbCB0aGUgQVBJIHNlcnZpY2UgY29ycmVjdGx5JywgKCkgPT4ge1xuLy8gICAgICAgICBzZXJ2aWNlVW5kZXJUZXN0Lm1vdmVMaW5lSXRlbVRvKHsgaWQ6ICcxMjMnIH0gYXMgYW55LCB7IGlkOiAnNDU2JyB9IGFzIGFueSk7XG5cbi8vICAgICAgICAgZXhwZWN0KG1vY2tBcGkucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aEFwaShBcGkuT3JkZXJzKTtcbi8vICAgICAgICAgZXhwZWN0KG1vY2tBcGkucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aEVuZHBvaW50KCdxdW90ZS8zL21vdmUvbGluZUl0ZW0nKTtcbi8vICAgICAgICAgZXhwZWN0KG1vY2tBcGkucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aFBhcmFtZXRlcnMoeyBsaW5lSXRlbUlkOiAnNDU2JywgcHJvamVjdElkOiAnMTIzJyB9KTtcbi8vICAgICAgICAgZXhwZWN0KG1vY2tBcGkucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aExvYWRpbmcodHJ1ZSk7XG4vLyAgICAgICB9KTtcblxuLy8gICAgICAgaXQoJ3JlcGxhY2UgdGhlIHF1b3RlIHN0b3JlIHdpdGggdGhlIHJlc3BvbnNlJywgKCkgPT4ge1xuLy8gICAgICAgICBzZXJ2aWNlVW5kZXJUZXN0Lm1vdmVMaW5lSXRlbVRvKHsgaWQ6ICcxMjMnIH0gYXMgYW55LCB7IGlkOiAnNDU2JyB9IGFzIGFueSk7XG5cbi8vICAgICAgICAgZXhwZWN0KHF1b3RlTG9hZFN1Y2Nlc3NTcHkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKG1vY2tBcGkucHV0UmVzcG9uc2UpO1xuLy8gICAgICAgfSk7XG4vLyAgICAgfSk7XG5cbi8vICAgICBkZXNjcmliZSgnY2xvbmVMaW5lSXRlbSgpJywgKCkgPT4ge1xuLy8gICAgICAgaXQoJ3Nob3VsZCBjYWxsIHRoZSBBUEkgc2VydmljZSBjb3JyZWN0bHknLCAoKSA9PiB7XG4vLyAgICAgICAgIHNlcnZpY2VVbmRlclRlc3QuY2xvbmVMaW5lSXRlbSh7IGlkOiAnMTIzJyB9KTtcblxuLy8gICAgICAgICBleHBlY3QobW9ja0FwaS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoQXBpKEFwaS5PcmRlcnMpO1xuLy8gICAgICAgICBleHBlY3QobW9ja0FwaS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoRW5kcG9pbnQoJ3F1b3RlLzMvY2xvbmUvbGluZUl0ZW0nKTtcbi8vICAgICAgICAgZXhwZWN0KG1vY2tBcGkucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aFBhcmFtZXRlcnMoeyBsaW5lSXRlbUlkOiAnMTIzJyB9KTtcbi8vICAgICAgICAgZXhwZWN0KG1vY2tBcGkucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aExvYWRpbmcodHJ1ZSk7XG4vLyAgICAgICB9KTtcblxuLy8gICAgICAgaXQoJ3JlcGxhY2UgdGhlIHF1b3RlIHN0b3JlIHdpdGggdGhlIHJlc3BvbnNlJywgKCkgPT4ge1xuLy8gICAgICAgICBzZXJ2aWNlVW5kZXJUZXN0LmNsb25lTGluZUl0ZW0oeyBpZDogJzEyMycgfSk7XG5cbi8vICAgICAgICAgZXhwZWN0KHF1b3RlTG9hZFN1Y2Nlc3NTcHkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKG1vY2tBcGkucHV0UmVzcG9uc2UpO1xuLy8gICAgICAgfSk7XG4vLyAgICAgfSk7XG5cbi8vICAgICBkZXNjcmliZSgnZWRpdExpbmVJdGVtKCknLCAoKSA9PiB7XG4vLyAgICAgICBpdCgnc2hvdWxkIGNhbGwgdGhlIEFQSSBzZXJ2aWNlIGNvcnJlY3RseScsICgpID0+IHtcbi8vICAgICAgICAgc2VydmljZVVuZGVyVGVzdC5lZGl0TGluZUl0ZW0oeyBpZDogJzEyMycgfSwgeyBwcmljaW5nQXR0cmlidXRlczogeyBEaXN0cmlidXRpb246ICdPbmxpbmUgU3RyZWFtaW5nJyB9IH0pO1xuXG4vLyAgICAgICAgIGV4cGVjdChtb2NrQXBpLnB1dCkudG9IYXZlQmVlbkNhbGxlZFdpdGhBcGkoQXBpLk9yZGVycyk7XG4vLyAgICAgICAgIGV4cGVjdChtb2NrQXBpLnB1dCkudG9IYXZlQmVlbkNhbGxlZFdpdGhFbmRwb2ludCgncXVvdGUvMy91cGRhdGUvbGluZUl0ZW0vMTIzJyk7XG4vLyAgICAgICAgIGV4cGVjdChtb2NrQXBpLnB1dCkudG9IYXZlQmVlbkNhbGxlZFdpdGhCb2R5KHtcbi8vICAgICAgICAgICBpZDogJzEyMycsIGF0dHJpYnV0ZXM6IFt7IHByaWNlQXR0cmlidXRlTmFtZTogJ0Rpc3RyaWJ1dGlvbicsIHNlbGVjdGVkQXR0cmlidXRlVmFsdWU6ICdPbmxpbmUgU3RyZWFtaW5nJyB9XVxuLy8gICAgICAgICB9KTtcbi8vICAgICAgICAgZXhwZWN0KG1vY2tBcGkucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aFBhcmFtZXRlcnMoeyByZWdpb246ICdBQUEnIH0pO1xuLy8gICAgICAgICBleHBlY3QobW9ja0FwaS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoTG9hZGluZyh0cnVlKTtcbi8vICAgICAgIH0pO1xuXG4vLyAgICAgICBpdCgnc2hvdWxkIHJlcGxhY2UgdGhlIHF1b3RlIHN0b3JlIHdpdGggdGhlIHJlc3BvbnNlJywgKCkgPT4ge1xuLy8gICAgICAgICBzZXJ2aWNlVW5kZXJUZXN0LmVkaXRMaW5lSXRlbSh7IGlkOiAnMTIzJyB9LCB7IHByaWNpbmdBdHRyaWJ1dGVzOiB7IERpc3RyaWJ1dGlvbjogJ09ubGluZSBTdHJlYW1pbmcnIH0gfSk7XG5cbi8vICAgICAgICAgZXhwZWN0KHF1b3RlTG9hZFN1Y2Nlc3NTcHkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKG1vY2tBcGkucHV0UmVzcG9uc2UpO1xuLy8gICAgICAgfSk7XG4vLyAgICAgfSk7XG5cbi8vICAgICBkZXNjcmliZSgndXBkYXRlUXVvdGVGaWVsZCgpJywgKCkgPT4ge1xuLy8gICAgICAgaXQoJ3Nob3VsZCBjYWxsIHRoZSBBUEkgc2VydmljZSBjb3JyZWN0bHkgLSBhZGQnLCAoKSA9PiB7XG4vLyAgICAgICAgIHNlcnZpY2VVbmRlclRlc3QudXBkYXRlUXVvdGVGaWVsZCh7IGJ1bGtPcmRlcklkOiAnYWJjLTEyMycgfSk7XG5cbi8vICAgICAgICAgY29uc3QgZXhwZWN0ZWRCb2R5ID0gT2JqZWN0LmFzc2lnbihcbi8vICAgICAgICAgICB7IGlkOiAzLCBvd25lclVzZXJJZDogMTAsIHRvdGFsOiA5MCwgc3ViVG90YWw6IDEwMCwgcHJvamVjdHM6IFt7IG5hbWU6ICdQcm9qZWN0IEEnIH1dIH0sXG4vLyAgICAgICAgICAgeyBidWxrT3JkZXJJZDogJ2FiYy0xMjMnIH1cbi8vICAgICAgICAgKTtcblxuLy8gICAgICAgICBleHBlY3QobW9ja0FwaS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoQXBpKEFwaS5PcmRlcnMpO1xuLy8gICAgICAgICBleHBlY3QobW9ja0FwaS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoRW5kcG9pbnQoJ3F1b3RlLzMnKTtcbi8vICAgICAgICAgZXhwZWN0KG1vY2tBcGkucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aEJvZHkoZXhwZWN0ZWRCb2R5KTtcbi8vICAgICAgIH0pO1xuXG4vLyAgICAgICBpdCgnc2hvdWxkIGNhbGwgdGhlIEFQSSBzZXJ2aWNlIGNvcnJlY3RseSAtIHJlbW92ZScsICgpID0+IHtcbi8vICAgICAgICAgbW9ja1N0b3JlID0gbmV3IE1vY2tBcHBTdG9yZSgpO1xuLy8gICAgICAgICBtb2NrU3RvcmUuY3JlYXRlU3RhdGVTZWN0aW9uKCdxdW90ZUVkaXQnLCB7XG4vLyAgICAgICAgICAgZGF0YTogeyBpZDogMywgb3duZXJVc2VySWQ6IDEwLCB0b3RhbDogOTAsIHN1YlRvdGFsOiAxMDAsIGJ1bGtPcmRlcklkOiAnYWJjLTEyMycsIHByb2plY3RzOiBbeyBuYW1lOiAnUHJvamVjdCBBJyB9XSB9XG4vLyAgICAgICAgIH0pO1xuXG4vLyAgICAgICAgIHNlcnZpY2VVbmRlclRlc3QudXBkYXRlUXVvdGVGaWVsZCh7IGJ1bGtPcmRlcklkOiAnJyB9KTtcblxuLy8gICAgICAgICBleHBlY3QobW9ja0FwaS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoQXBpKEFwaS5PcmRlcnMpO1xuLy8gICAgICAgICBleHBlY3QobW9ja0FwaS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoRW5kcG9pbnQoJ3F1b3RlLzMnKTtcbi8vICAgICAgICAgZXhwZWN0KG1vY2tBcGkucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aEJvZHkoe1xuLy8gICAgICAgICAgIGlkOiAzLCBvd25lclVzZXJJZDogMTAsIHRvdGFsOiA5MCwgc3ViVG90YWw6IDEwMCwgcHJvamVjdHM6IFt7IG5hbWU6ICdQcm9qZWN0IEEnIH1dXG4vLyAgICAgICAgIH0pO1xuLy8gICAgICAgfSk7XG5cbi8vICAgICAgIGl0KCdzaG91bGQgcmVwbGFjZSB0aGUgcXVvdGUgc3RvcmUgd2l0aCB0aGUgcmVzcG9uc2UnLCAoKSA9PiB7XG4vLyAgICAgICAgIHNlcnZpY2VVbmRlclRlc3QudXBkYXRlUXVvdGVGaWVsZCh7IGJ1bGtPcmRlcklkOiAnYWJjLTEyMycgfSk7XG5cbi8vICAgICAgICAgZXhwZWN0KHF1b3RlTG9hZFN1Y2Nlc3NTcHkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKG1vY2tBcGkucHV0UmVzcG9uc2UpO1xuLy8gICAgICAgfSk7XG4vLyAgICAgfSk7XG5cbi8vICAgICBkZXNjcmliZSgnYWRkRmVlVG8oKScsICgpID0+IHtcbi8vICAgICAgIGl0KCdjYWxscyB0aGUgQVBJIHNlcnZpY2UgYXMgZXhwZWN0ZWQnLCAoKSA9PiB7XG4vLyAgICAgICAgIHNlcnZpY2VVbmRlclRlc3QuYWRkRmVlVG8oeyBzb21lOiAncHJvamVjdCcsIG5hbWU6ICdwcm9qZWN0TmFtZScgfSBhcyBhbnksIHsgc29tZTogJ2ZlZScgfSBhcyBhbnkpO1xuXG4vLyAgICAgICAgIGV4cGVjdChtb2NrQXBpLnB1dCkudG9IYXZlQmVlbkNhbGxlZFdpdGhBcGkoQXBpLk9yZGVycyk7XG4vLyAgICAgICAgIGV4cGVjdChtb2NrQXBpLnB1dCkudG9IYXZlQmVlbkNhbGxlZFdpdGhFbmRwb2ludCgncXVvdGUvMy9mZWUvbGluZUl0ZW0nKTtcbi8vICAgICAgICAgZXhwZWN0KG1vY2tBcGkucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aEJvZHkoeyBzb21lOiAnZmVlJyB9KTtcbi8vICAgICAgICAgZXhwZWN0KG1vY2tBcGkucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aFBhcmFtZXRlcnMoeyBwcm9qZWN0TmFtZTogJ3Byb2plY3ROYW1lJyB9KTtcbi8vICAgICAgICAgZXhwZWN0KG1vY2tBcGkucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aExvYWRpbmcodHJ1ZSk7XG4vLyAgICAgICB9KTtcblxuLy8gICAgICAgaXQoJ3JlcGxhY2VzIHRoZSBjdXJyZW50IHF1b3RlJywgKCkgPT4ge1xuLy8gICAgICAgICBzZXJ2aWNlVW5kZXJUZXN0LmFkZEZlZVRvKHsgc29tZTogJ3Byb2plY3QnLCBuYW1lOiAncHJvamVjdE5hbWUnIH0gYXMgYW55LCB7IHNvbWU6ICdmZWUnIH0gYXMgYW55KTtcblxuLy8gICAgICAgICBleHBlY3QocXVvdGVMb2FkU3VjY2Vzc1NweSkudG9IYXZlQmVlbkNhbGxlZCgpO1xuLy8gICAgICAgfSk7XG4vLyAgICAgfSk7XG5cblxuLy8gICAgIGRlc2NyaWJlKCdyZW1vdmVGZWUoKScsICgpID0+IHtcbi8vICAgICAgIGl0KCdjYWxscyB0aGUgQVBJIHNlcnZpY2UgYXMgZXhwZWN0ZWQnLCAoKSA9PiB7XG4vLyAgICAgICAgIHNlcnZpY2VVbmRlclRlc3QucmVtb3ZlRmVlKHsgc29tZTogJ2ZlZScsIGlkOiA0NyB9IGFzIGFueSk7XG5cbi8vICAgICAgICAgZXhwZWN0KG1vY2tBcGkuZGVsZXRlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aEFwaShBcGkuT3JkZXJzKTtcbi8vICAgICAgICAgZXhwZWN0KG1vY2tBcGkuZGVsZXRlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aEVuZHBvaW50KCdxdW90ZS8zL2ZlZS80NycpO1xuLy8gICAgICAgICBleHBlY3QobW9ja0FwaS5kZWxldGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoTG9hZGluZyh0cnVlKTtcbi8vICAgICAgIH0pO1xuXG4vLyAgICAgICBpdCgncmVwbGFjZXMgdGhlIGN1cnJlbnQgcXVvdGUnLCAoKSA9PiB7XG4vLyAgICAgICAgIHNlcnZpY2VVbmRlclRlc3QucmVtb3ZlRmVlKHsgc29tZTogJ2ZlZScsIGlkOiA0NyB9IGFzIGFueSk7XG5cbi8vICAgICAgICAgZXhwZWN0KHF1b3RlTG9hZFN1Y2Nlc3NTcHkpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbi8vICAgICAgIH0pO1xuLy8gICAgIH0pO1xuXG4vLyAgICAgZGVzY3JpYmUoJ2ZlZWNvbmZpZyBnZXR0ZXInLCAoKSA9PiB7XG4vLyAgICAgICBkZXNjcmliZSgnd2hlbiB0aGUgRmVlQ29uZmlnIHN0b3JlIGlzIGluaXRpYWxpemVkJywgKCkgPT4ge1xuLy8gICAgICAgICBiZWZvcmVFYWNoKCgpID0+IHtcbi8vICAgICAgICAgICBtb2NrRmVlQ29uZmlnU3RvcmUuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuLy8gICAgICAgICAgIG1vY2tGZWVDb25maWdTdG9yZS5mZWVDb25maWcgPSB7IGV4aXN0aW5nOiAnZmVlQ29uZmlnJyB9O1xuLy8gICAgICAgICB9KTtcblxuLy8gICAgICAgICBpdCgncmV0dXJucyBhbiBPYnNlcnZhYmxlIG9mIHRoZSBleGlzdGluZyBGZWVDb25maWcgc3RvcmUnLCAoKSA9PiB7XG4vLyAgICAgICAgICAgZXhwZWN0KHNlcnZpY2VVbmRlclRlc3QuZmVlQ29uZmlnKS50b0VxdWFsKE9ic2VydmFibGUub2YoeyBleGlzdGluZzogJ2ZlZUNvbmZpZycgfSkpO1xuLy8gICAgICAgICB9KTtcbi8vICAgICAgIH0pO1xuXG4vLyAgICAgICBkZXNjcmliZSgnd2hlbiB0aGUgRmVlQ29uZmlnIHN0b3JlIGlzIG5vdCBpbml0aWFsaXplZCcsICgpID0+IHtcbi8vICAgICAgICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4vLyAgICAgICAgICAgbW9ja0ZlZUNvbmZpZ1N0b3JlLmluaXRpYWxpemVkID0gZmFsc2U7XG4vLyAgICAgICAgICAgbW9ja0ZlZUNvbmZpZ1N0b3JlLnJlcGxhY2VGZWVDb25maWdXaXRoID0gamFzbWluZS5jcmVhdGVTcHkoJ3JlcGxhY2VGZWVDb25maWdXaXRoJyk7XG4vLyAgICAgICAgICAgbW9ja0FwaS5nZXRSZXNwb25zZSA9IHsgbG9hZGVkOiAnZmVlQ29uZmlnJyB9O1xuLy8gICAgICAgICB9KTtcblxuLy8gICAgICAgICBpdCgnY2FsbHMgdGhlIHNlcnZlclxcJ3MgZmVlY29uZmlnIGVuZHBvaW50IGFzIGV4cGVjdGVkJywgKCkgPT4ge1xuLy8gICAgICAgICAgIHNlcnZpY2VVbmRlclRlc3QuZmVlQ29uZmlnLnN1YnNjcmliZSgpO1xuXG4vLyAgICAgICAgICAgZXhwZWN0KG1vY2tBcGkuZ2V0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aEFwaShBcGkuSWRlbnRpdGllcyk7XG4vLyAgICAgICAgICAgZXhwZWN0KG1vY2tBcGkuZ2V0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aEVuZHBvaW50KCdmZWVDb25maWcvc2VhcmNoJyk7XG4vLyAgICAgICAgICAgZXhwZWN0KG1vY2tBcGkuZ2V0KS5ub3QudG9IYXZlQmVlbkNhbGxlZFdpdGhCb2R5KCk7XG4vLyAgICAgICAgICAgZXhwZWN0KG1vY2tBcGkuZ2V0KS5ub3QudG9IYXZlQmVlbkNhbGxlZFdpdGhQYXJhbWV0ZXJzKCk7XG4vLyAgICAgICAgICAgZXhwZWN0KG1vY2tBcGkuZ2V0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aExvYWRpbmcodHJ1ZSk7XG4vLyAgICAgICAgIH0pO1xuXG4vLyAgICAgICAgIGl0KCdyZXBsYWNlcyB0aGUgY29udGVudHMgb2YgdGhlIEZlZUNvbmZpZyBzdG9yZScsICgpID0+IHtcbi8vICAgICAgICAgICBzZXJ2aWNlVW5kZXJUZXN0LmZlZUNvbmZpZy5zdWJzY3JpYmUocmVzcG9uc2UgPT4ge1xuLy8gICAgICAgICAgICAgZXhwZWN0KG1vY2tGZWVDb25maWdTdG9yZS5yZXBsYWNlRmVlQ29uZmlnV2l0aCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoeyBsb2FkZWQ6ICdmZWVDb25maWcnIH0pO1xuLy8gICAgICAgICAgIH0pO1xuLy8gICAgICAgICB9KTtcblxuLy8gICAgICAgICBpdCgncmV0dXJucyBhbiBPYnNlcnZhYmxlIG9mIHRoZSBzZXJ2ZXJcXCdzIHJldHVybmVkIEZlZUNvbmZpZycsICgpID0+IHtcbi8vICAgICAgICAgICBzZXJ2aWNlVW5kZXJUZXN0LmZlZUNvbmZpZy5zdWJzY3JpYmUocmVzcG9uc2UgPT4ge1xuLy8gICAgICAgICAgICAgZXhwZWN0KHJlc3BvbnNlKS50b0VxdWFsKHsgbG9hZGVkOiAnZmVlQ29uZmlnJyB9KTtcbi8vICAgICAgICAgICB9KTtcbi8vICAgICAgICAgfSk7XG4vLyAgICAgICB9KTtcbi8vICAgICB9KTtcblxuLy8gICAgIGRlc2NyaWJlKCdidWxrSW1wb3J0JywgKCkgPT4ge1xuLy8gICAgICAgaXQoJ2NhbGxzIHRoZSBhcGkgc2VydmljZSBjb3JyZWN0bHknLCAoKSA9PiB7XG4vLyAgICAgICAgIHNlcnZpY2VVbmRlclRlc3QuYnVsa0ltcG9ydCh7IGxpbmVJdGVtQXR0cmlidXRlczogJ29uZVxcbnR3bycgfSwgJ2FiYy0xMjMnKTtcbi8vICAgICAgICAgZXhwZWN0KG1vY2tBcGkucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aEFwaShBcGkuT3JkZXJzKTtcbi8vICAgICAgICAgZXhwZWN0KG1vY2tBcGkucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aEVuZHBvaW50KCdxdW90ZS8zL2Fzc2V0L2RpcmVjdC9saW5lSXRlbScpO1xuLy8gICAgICAgICBleHBlY3QobW9ja0FwaS5wdXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoQm9keSh7IGxpbmVJdGVtQXR0cmlidXRlczogJ29uZVxcbnR3bycgfSk7XG4vLyAgICAgICAgIGV4cGVjdChtb2NrQXBpLnB1dCkudG9IYXZlQmVlbkNhbGxlZFdpdGhQYXJhbWV0ZXJzKHsgcHJvamVjdElkOiAnYWJjLTEyMycgfSk7XG4vLyAgICAgICAgIGV4cGVjdChtb2NrQXBpLnB1dCkudG9IYXZlQmVlbkNhbGxlZFdpdGhMb2FkaW5nKHRydWUpO1xuLy8gICAgICAgfSk7XG4vLyAgICAgfSk7XG4vLyAgIH0pO1xuLy8gfVxuIl19
